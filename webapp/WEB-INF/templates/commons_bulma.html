<#-- WARNING : be careful to white-space and lines break in FreeMarker macros.
 # This macro template can be used to output white-space-sensitive formats (like RSS files).
 # See http://dev.lutece.paris.fr/jira/browse/LUTECE-765
-->
<#-- Do not remove this comment -->
<#-- Information about this commons file -->
<#macro commonsFile>commons_bulma.html</#macro>
<#macro commonsName>Commons Bulma 0.7.2</#macro>
<#macro commonsDescription>Freemarker Commons macros powered by Bulma CSS Framework v0.7.2</#macro>
<#macro coreAdminCSSLinks>
<link href="css/admin/style/bulma/lutecebulma.css" rel="stylesheet">  
<link href="css/admin/style/bulma/bulma-badge.min.css" rel="stylesheet">
<link href="css/admin/style/bulma/bulma-switch.min.css" rel="stylesheet">
<link href="css/admin/style/bulma/bulma-tooltip.min.css" rel="stylesheet">
<link href="css/admin/style/bulma/bulma-accordion.min.css" rel="stylesheet">
<link href="css/admin/style/bulma/bulma-timeline.min.css" rel="stylesheet">
<link href="css/admin/jquery-ui.min.css" rel="stylesheet">
<link href="css/admin/jquery-ui.structure.min.css" rel="stylesheet">
<link href="css/admin/jquery-ui.theme.min.css" rel="stylesheet">
<link href="css/admin/tabler-icons.min.css" rel="stylesheet"> <!-- Tabler Icons --> 
<link href="css/admin/bootstrap-icons.css" rel="stylesheet"  <!-- Bootstrap Icons --> 
<link href="js/admin/lib/toastr/toastr.min.css" rel="stylesheet"> 
<link href="js/admin/lib/polipop/css/polipop.core.min.css" rel="stylesheet">
<link href="js/admin/lib/polipop/css/polipop.core.min.css" rel="stylesheet">
<link href="css/admin/style/tabler/bootstrap-colorpicker.min.css" rel="stylesheet"><!-- BS colorpicker -->
<link href="css/admin/style/bulma/all.min.css" rel="stylesheet"> <!-- Font-Awesome 5.8.1 -->
<link href="css/admin/style/bulma/portal_admin.css" rel="stylesheet" >
<link href="css/admin/portal_admin_site.css" rel="stylesheet"><!-- Site override admin CSS -Empty by default- -->
</#macro>
<#macro coreAdminJSLinks>
<script src="js/admin/jquery/jquery-ui.min.js"></script>
<script src="js/admin/lib/polipop/polipop.min.js"></script> 
<script src="js/admin/lib/toastr/toastr.min.js"></script> 
<script src="js/admin/style/bulma/bulma-accordion.min.js"></script>
<script src="js/admin/style/bulma/bootstrap-colorpicker.js"></script>
<script src="js/util/progress-manager.js"></script>
<script src="js/admin/style/bulma/admin.js"></script>
</#macro>
<#assign propagateAddons = false>
<#global gClassActive='is-active' />
<#macro sort jsp_url attribute id="" >
	<#if jsp_url?contains("?")>
		<#assign sort_url = jsp_url + "&amp;sorted_attribute_name=" + attribute + "&amp;asc_sort=" />
	<#else>
		<#assign sort_url = jsp_url + "?sorted_attribute_name=" + attribute + "&amp;asc_sort=" />
	</#if>
	<div class="field is-grouped is-pulled-right" role="group" aria-label="sortButton">
		<a class="button is-default is-small" id="sort${id!}_${attribute!}" href="${sort_url}true#sort${id!}_${attribute!}" title="#i18n{portal.util.sort.asc}" >
            <span class="icon"><i class="fa fa-chevron-up"></i></span>
		</a>
		<a class="button is-default is-small" href="${sort_url}false#sort${id!}_${attribute!}" title="#i18n{portal.util.sort.desc}">
			<span class="icon"><i class="fa fa-chevron-down"></i></span>
		</a>
	</div>
</#macro>
<#macro paginationAdmin paginator combo=0 form=1 nb_items_per_page=nb_items_per_page showcount=1 showall=0>
<nav class="pagination is-right" role="navigation" aria-label="pagination">
<#if form == 1 ><form method="post" action="" style="order:2"><#else><div style="position: relative; left: -9999999px">/</div></#if>
<@paginationItemCount paginator=paginator combo=combo nb_items_per_page=nb_items_per_page showcount=showcount showall=showall/>
<#if form == 1 ></form></#if>
<#if (paginator.pagesCount > 1) >
<@paginationPageLinks paginator=paginator />
<#else>
<#if form == 1 ><div style="position: relative; left: -9999999px">/</div></#if>
</#if>
</nav>
</#macro>
<#macro pagination paginator >
	<#assign nbLinkPagesToDisplay = 10 />
	<#assign offsetPrev = nbLinkPagesToDisplay / 2 />
	<#assign offsetNext = nbLinkPagesToDisplay / 2 />
	<#if ( paginator.pageCurrent <= nbLinkPagesToDisplay - offsetPrev )>
		<#assign offsetPrev = paginator.pageCurrent - 1 />
		<#assign offsetNext = nbLinkPagesToDisplay - offsetPrev />
	<#elseif ( paginator.pageCurrent + offsetNext > paginator.pagesCount )>
		<#assign offsetNext = paginator.pagesCount - paginator.pageCurrent />
		<#assign offsetPrev = nbLinkPagesToDisplay - offsetNext />
	</#if>
<#if ( paginator.pagesCount > 1 )>
	<#if ( paginator.pageCurrent - offsetPrev > 1 )>
		<a href="${paginator.firstPageLink?xhtml}">
			<span class="icon"><i class="fa fa-angle-double-left"></i></span>&nbsp;#i18n{portal.util.labelFirst}
		</a>
	</#if>
	<#if ( paginator.pageCurrent > 1 )>
		<a href="${paginator.previousPageLink?xhtml}">
			<span class="icon"><i class="fa fa-angle-left"></i></span>&nbsp;#i18n{portal.util.labelPrevious}
		</a>
	<#else>
		&nbsp;&nbsp;
	</#if>
	<#if ( paginator.pageCurrent - offsetPrev > 1 )>
		<strong>...</strong>
	</#if>
	<#list paginator.pagesLinks as link>
		<#if link.index == paginator.pageCurrent>
			<strong>${link.name}</strong>
		<#else>
			<a href="${link.url?xhtml}">${link.name}</a>
		</#if>
	</#list>
	<#if ( paginator.pageCurrent + offsetNext < paginator.pagesCount )>
		<strong>...</strong>
	</#if>
	<#if ( paginator.pageCurrent < paginator.pagesCount )>
		<a href="${paginator.nextPageLink?xhtml}">
            <span class="icon"><i class="fa fa-angle-right"></i></span>&nbsp;#i18n{portal.util.labelNext}
		</a>
		<#if ( paginator.pageCurrent + offsetNext < paginator.pagesCount )>
			<a href="${paginator.lastPageLink?xhtml}">
				<span class="icon"><i class="fa fa-angle-double-right"></i></span>&nbsp;#i18n{portal.util.labelLast}
			</a>
		</#if>
	<#else>
		&nbsp;&nbsp;
	</#if>
</#if>
</#macro>
<#macro paginationPageLinks paginator >
<#assign nbLinkPagesToDisplay = 10 />
<#assign offsetPrev = nbLinkPagesToDisplay / 2 />
<#assign offsetNext = nbLinkPagesToDisplay / 2 />
<#if ( paginator.pageCurrent <= nbLinkPagesToDisplay - offsetPrev )>
	<#assign offsetPrev = paginator.pageCurrent - 1 />
	<#assign offsetNext = nbLinkPagesToDisplay - offsetPrev />
<#elseif ( paginator.pageCurrent + offsetNext > paginator.pagesCount )>
	<#assign offsetNext = paginator.pagesCount - paginator.pageCurrent />
	<#assign offsetPrev = nbLinkPagesToDisplay - offsetNext />
</#if>
<ul class="pagination-list">
<#if ( paginator.pageCurrent - offsetPrev > 1 )>
	<li>
		<a href="${paginator.firstPageLink?xhtml}">
			${paginator.labelFirst}
		</a>
	</li>
</#if>
<#if (paginator.pageCurrent > 1) >
	<li class="previous">
		<a href="${paginator.previousPageLink?xhtml}">
			${paginator.labelPrevious}
		</a>
	</li>
<#else>
	<li class="disabled">
		<a href="${paginator.firstPageLink?xhtml}">${paginator.labelPrevious}</a>
	</li>
</#if>
<#if ( paginator.pageCurrent - offsetPrev > 1 )>
	<li>
		<a href="${(paginator.pagesLinks?first).url?xhtml}"><strong>...</strong></a>
	</li>
</#if>
<#list paginator.pagesLinks as pageLink>
	<#if ( pageLink.index == paginator.pageCurrent )>
		<li class="active">
			<@link href='${pageLink.url?xhtml}'>${pageLink.name}</@link>
		</li>
	<#else>
		<li>
			<@link href='${pageLink.url?xhtml}'>${pageLink.name}</@link>
		</li>
	</#if>
</#list>
<#if ( paginator.pageCurrent + offsetNext < paginator.pagesCount )>
	<li>
		<a href="${(paginator.pagesLinks?last).url?xhtml}"><strong>...</strong></a>
	</li>
</#if>
<#if (paginator.pageCurrent < paginator.pagesCount) >
	<li class="next">
		<a href="${paginator.nextPageLink?xhtml}">
			${paginator.labelNext}
		</a>
	</li>
	<#if ( paginator.pageCurrent + offsetNext < paginator.pagesCount )>
		<li class="next">
			<a href="${paginator.lastPageLink?xhtml}">
				${paginator.labelLast}
			</a>
		</li>
	</#if>
<#else>
	<li class="disabled">
		<a href="${paginator.lastPageLink?xhtml}">${paginator.labelNext}</a>
	</li>
</#if>
</ul>
 </#macro>
<#macro paginationCombo paginator nb_items_per_page=nb_items_per_page showall=0>
<div class="column is-flex-grow-2">
	<label class="is-sr-only" for="${paginator.itemsPerPageParameterName}">${paginator.labelItemCountPerPage}</label>
	<div class="field has-addons">
		<div class="control is-expanded">
			<div class="select is-small is-fullwidth">
				<select data-max-item="${paginator.itemsCount}" name="${paginator.itemsPerPageParameterName}" id="${paginator.itemsPerPageParameterName}" title="${paginator.labelItemCountPerPage}">
				<#list [ "10" , "20" , "50" , "100" ] as nb>
					<#if nb_items_per_page = nb >
						<option selected="selected" value="${nb}">${nb}</option>
					<#else>
						<option value="${nb}">${nb}</option>
					</#if>
				</#list>
				<#if showall ==1>
					<#if paginator.itemsCount &gt; 100 >
						<option <#if nb_items_per_page?number = paginator.itemsCount?number >selected="selected"</#if> value="${paginator.itemsCount}" class="${nb_items_per_page}">#i18n{portal.util.labelAll}</option>
					</#if>
				</#if>
				</select>
			</div>
		</div>
		<div class="control">
			<button class="button is-default is-small" type="submit" title="#i18n{portal.util.labelRefresh}">
				#i18n{portal.util.labelRefresh}
			</button>
		</div>
	</div>
</div>
</#macro>
<#macro paginationItemCount paginator combo=0 nb_items_per_page=nb_items_per_page showcount=1 showall=0>
<div class="columns">
<#-- Display combo -->
<#if combo == 1 >
  <@paginationCombo paginator=paginator nb_items_per_page=nb_items_per_page showall=showall />
</#if>
<#-- Display item count -->
<#if showcount == 1 >
<div class="column is-narrow">
<#if (paginator.labelItemCount)?? && paginator.labelItemCount?has_content>${paginator.labelItemCount} : </#if> ${paginator.itemsCount}
</div>
</div>
</#if>
</#macro>
<#-- NAVIGATION -->
<#macro item_navigation item_navigator id='item-navigator' align='' hideButtonTitle=[] buttonColor='seacondary card-header-icon' buttonSize='sm'>
<#local class = alignmentSettings(align) />
<nav id="${id}" class="level ${class}">
	<div class="level-right">
<#if (item_navigator.currentItemId > 0)>
	<@aButton href='${item_navigator.previousPageLink?xhtml}' title='#i18n{portal.util.labelPrevious}' buttonIcon='arrow-left' color='${buttonColor}' hideTitle=hideButtonTitle size='${buttonSize}' />
</#if>
<#if (item_navigator.currentItemId < item_navigator.listItemSize - 1) >
	<@aButton href='${item_navigator.nextPageLink?xhtml}' title='#i18n{portal.util.labelNext}' buttonIcon='arrow-right' color='${buttonColor}' hideTitle=hideButtonTitle size='${buttonSize}' />
</#if>
</div>
</nav>
</#macro>
<#macro actionButtons button1Name='' button2Name='' i18nValue1Key='portal.admin.message.buttonValidate' i18nValue2Key='portal.admin.message.buttonCancel' url1='' url2='' icon1='save' icon2='times' offset=3 >
	<@formGroup>
		<#if url1 != ''>
			<@aButton href='${url1}' class='button is-primary' buttonIcon=icon1 title='#i18n{${i18nValue1Key}}' />
		<#else>
			<@button type='submit' name=button1Name buttonIcon=icon1 title='#i18n{${i18nValue1Key}}' />
		</#if>
		<#if url2 != ''>
			<@aButton href=url2 class='button is-default' buttonIcon=icon2 title='#i18n{${i18nValue2Key}}' />
		<#else>
			<#if button2Name != ''>
				<@button type='submit' name=button2Name class='button is-default' buttonIcon=icon2 title='#i18n{${i18nValue2Key}}' />
			</#if>
		</#if>
	</@formGroup>
</#macro>
<#macro messages errors=[] infos=[] warnings=[] errors_class="alert alert-danger" infos_class="alert alert-info" warnings_class="alert alert-warning">
<#if errors??>
	<#if errors?size &gt; 0 >
		<div class="notification is-danger" id="messages_errors_div">
			<button class="delete"></button>
			<#list errors as error >
				<span class="icon"><i class="fa fa-exclamation-circle"></i></span> ${error.message} <br>
			</#list>
		</div>
	</#if>
</#if>
<#if infos??>
	<#if infos?size &gt; 0 >
		<div class="notification is-info" id="messages_infos_div" >
			<button class="delete"></button>
			<#list infos as info >
				<span class="icon"><i class="fa fa-info-circle"></i></span> ${info.message} <br>
			</#list>
		</div>
	</#if>
</#if>
<#if warnings??>
	<#if warnings?size &gt; 0 >
		<div class="${warnings_class}" id="messages_warnings_div" >
			<a class="delete" data-dismiss="alert" href="#">x</a>
			<#list warnings as warning >
				<span class="icon"><i class="fa fa-info-circle"></i></span> ${warning.message} <br>
			</#list>
		</div>
	</#if>
</#if>
</#macro>
<#---------------------------NEW MACROS------------------------------>
<#-- TABLE -->
<#-- class:  -->
<#macro table id='' class='is-fullwidth' responsive=true condensed=true hover=true striped=false headBody=true bordered=false collapsed=false caption='' params='' deprecated...>
<@deprecatedWarning args=deprecated />
<#local class = class />
<#if condensed> <#local class += ' is-narrow' /> </#if>
<#if hover>     <#local class += ' is-hoverable' /> </#if>
<#if striped>   <#local class += ' is-striped'   /> </#if>
<#if bordered>  <#local class += ' is-bordered'  /> </#if>
<#if collapsed> <#local class += ' collapse' /> </#if>
<#if responsive><div class="table-container"></#if>
<table class="table ${class?trim}" <#if id!=''> id="${id}"</#if><#if params!=''> ${params}</#if>>
<#if caption!=''><caption>${caption}</caption></#if>
<#if headBody><thead></#if>
	<#nested>
<#if headBody></tbody></#if>
</table>
<#if responsive></div></#if>
</#macro>
<#macro tableHead id='' class='' params=''>
<thead<#if id!=''> id="${id}"</#if><#if class?trim!=''> class="${class?trim}"</#if><#if params!=''> ${params}</#if>>
<#nested>
</thead>
</#macro>
<#macro tableBody id='' class='' params=''>
<tbody<#if id!=''> id="${id}"</#if><#if class?trim!=''> class="${class?trim}"</#if><#if params!=''> ${params}</#if>>
<#nested>
</tbody>
</#macro>
<#macro tableFoot id='' class='' params=''>
<tfoot <#if id!=''> id="${id}"</#if><#if class?trim!=''> class="${class?trim}"</#if><#if params!=''> ${params}</#if>>
<#nested>
</tfoot>
</#macro>
<#macro tableHeadBodySeparator id='' class='' params=''>
</thead>
<tbody<#if id!=''> id="${id}"</#if><#if class?trim!=''> class="${class?trim}"</#if><#if params!=''> ${params}</#if>>
</#macro>
<#-- MACRO TR -->
<#macro tr id='' class='' hide=[] params=''>
	<#local class += ' ' + displaySettings(hide,'is-inline') + ' ' + alignmentSettings(align) />
	<tr<#if id!=''> id="${id}"</#if><#if class?trim!=''> class="${class?trim}"</#if><#if params!=''> ${params}</#if>>
		<#nested>
	</tr>
</#macro>
<#-- MACRO TH -->
<#-- valign: baseline|top|middle|bottom|bottom|text-top -->
<#macro th id='' title='' scope='' class='' align='' valign='' hide=[]  cols=0 xs=0 sm=0 md=0 lg=0 xl=0 colspan=0 rowspan=0 flex=false params=''>
    <#local class += ' ' + displaySettings(hide,'is-inline') + ' ' + alignmentSettings(align) />
	<#if valign!=''><#local class += ' align-' + valign /></#if>
		<th<#if id!=''> id="${id}"</#if><#if class?trim!=''> class="${class?trim}"</#if><#if title!=''> title="${title}"</#if><#if scope!=''> scope="${scope}"</#if><#if colspan gt 0> colspan="${colspan}"</#if><#if rowspan gt 0> rowspan="${rowspan}"</#if><#if params!=''> ${params}</#if>>
        <#nested>
    </th>
</#macro>
<#-- MACRO TD -->
<#macro td id='' class='' hide=[] align='' valign='' xs=0 sm=0 md=0 lg=0 xl=0 colspan=0 rowspan=0 flex=false params='' deprecated...>
<@deprecatedWarning args=deprecated />	
	<#local class += ' ' + displaySettings(hide,'is-inline') + ' ' + alignmentSettings(align) />
	<#if valign!=''><#local class += ' align-' + valign /></#if>
		<td class="<#if class?trim != ''>${class?trim}</#if>"<#if id!=''> id="${id}"</#if><#if colspan gt 0> colspan="${colspan}"</#if><#if rowspan gt 0> rowspan="${rowspan}"</#if><#if params!=''> ${params}</#if>>
			<#if flex><div style="display:flex;"></#if>
			<#nested>
			<#if flex></div></#if>
		</td>
</#macro>
<#-- ICONS -->
<#-- Icons from FontAwesome 5.8.1 -->
<#macro icon prefix='fa-' style='fa-lg' class='' title='' id='' params=''>
<#if style='docker' || style = 'github' || style='gitlab' || style='java' || style='jira' || style='jenkins' || style = 'twitter' >
	<#local prefix = 'fab ' + prefix />
<#else>
	<#local prefix = 'fas ' + prefix />
</#if>
<#switch style>
<#case 'arrows'>
	<#local iconStyle = 'arrows-alt' />
<#break>
<#case 'arrows-h'>
	<#local iconStyle = 'arrows-alt-h' />
<#break>
<#case 'arrows-v'>
	<#local iconStyle = 'arrows-alt-v' />
<#break>
<#case 'clock-o'>
	<#local iconStyle = 'clock' />
<#break>
<#case 'close'> 	
	<#local iconStyle = 'times' />
<#break>
<#case 'external-link'>
	<#local iconStyle = 'external-link-alt' />
<#break>
<#case 'file-pdf-o'>
	<#local iconStyle = 'file-pdf' />
<#break>
<#case 'pencil'>
	<#local iconStyle = 'edit' />
<#break>
<#case 'refresh'>
	<#local iconStyle = 'sync' />
<#break>
<#default>
<#local iconStyle = style />
</#switch>
	<i class="${prefix}${iconStyle} fa-fw<#if class!=''> ${class}</#if>" aria-hidden="true"<#if title!=''> title='${title}'</#if><#if id!=''> id="${id}"</#if><#if params!=''> ${params}</#if>></i>
</#macro>
<#-- ICONSTACK 																					-->
<#-- iconStack 																					-->
<#-- class: par défaut 2x peut être tout autre taille voir doc FontAwesome  					-->			
<#-- nested: 2 macro @icon une class fa-stack-2x , autre avec class fa-stack-1x dans l'ordre   	-->
<#macro iconStack class='fa-2x' id='' params=''>
<span class="fa-stack ${class}"<#if id!=''> ${id}</#if><#if params!=''> ${params}</#if>>
<#nested>
</span>
</#macro>
<#-- FORM -->
<#-- type: inline/horizontal/form -->
<#-- enctype: multipart/form-data | text/plain -->
<#macro tform type='' class='' align='' hide=[] action='' method='post' name='' id='' role='' collapsed=false enctype='' params='' deprecated...>
<@deprecatedWarning args=deprecated />	
<#local class = class />
<#if align!=''><#local class += ' ' + alignmentSettings(align) /></#if>
<#if hide??><#local class += ' ' + displaySettings(hide,'block') /></#if>
<#if collapsed><#local class += ' collapse' /></#if>
<#switch type>
	<#case 'horizontal'>
		<#local class += ' is-horizontal'>
		<#break>
	<#case 'inline'>
		<#local class += 'is-flex is-justify-content-flex-start  is-align-items-center card-header-icon'>
		<#break>
	<#default>
		<#local class += ''>
</#switch>
<form class="<#if class!=''>${class?trim}</#if>"<#if id!=''> id="${id}"</#if><#if action!=''> action="${action}"</#if><#if method!=''> method="${method}"</#if><#if name!=''> name="${name}"</#if><#if role!=''> role="${role}"</#if><#if method='post' && enctype!=''> enctype='${enctype}'</#if><#if params!=''> ${params}</#if>>
<#nested>
</form>
</#macro>
<#-- FORM ELEMENT STRUCTURE -->
<#-- formStyle values: empty/inline/horizontal/navbar-form/navbar-left... Default is horizontal -->
<#-- class: is-success/is-danger/is-warning... -->
<#-- groupStyle: is-success/is-danger/is-warning... -->
<#macro formGroup formStyle='' class='' groupStyle='' rows=1 labelKey='' labelFor='' labelId='' labelClass='' helpKey='' id='' mandatory=false hideLabel=[] collapsed=false params='' deprecated...>
<@deprecatedWarning args=deprecated />	
<#if groupStyle='addons'><#assign propagateAddons = true></#if>
<#switch formStyle>
<#case 'horizontal'>
	<#local class += ' is-horizontal'>
	<#break>
<#default>
	<#local class += ''>
</#switch>
<#local labelDisplayClass = displaySettings(hideLabel,'') />
<#if collapsed><#local class += ' collapse' /></#if>
<div class="field<#if class?trim!=''> ${class?trim}</#if><#if groupStyle!=''> has-${groupStyle}</#if>">
	<#if groupStyle!='addons'><label class="label<#if labelDisplayClass!=''> ${labelDisplayClass}</#if><#if labelClass!=''> ${labelClass}</#if>">${labelKey} <#if mandatory=true>*</#if></label></#if>
  	<#if formStyle='horizontal'> 
	<div class="field-body">
		<div class="field is-narrow">
	</#if>
	<#assign propagateMandatory = mandatory>
	<#nested>
	<#assign propagateMandatory = false>
	<#if formStyle='horizontal'> 
		</div>
	</div>
	</#if>
	<#if helpKey !=''><p class="help pb-2">${helpKey}</p></#if>
</div>
</#macro>
<#macro formField class=''>
<div class="control ${class}">
<#nested>
</div>
</#macro>
<#macro formLabel class='' labelFor='' labelId='' labelKey='' hideLabel=[] mandatory=true deprecated...>
<@deprecatedWarning args=deprecated />	
<#local class += ' ' + displaySettings(hideLabel,'') />
<label class="<#if class !=''>${class?trim}</#if>" for="${labelFor}" <#if labelId!=''> id="${labelId}"</#if><#if mandatory=true>ariaLabel="${labelKey} [#i18n{portal.users.modify_attribute.labelMandatory}]"</#if>>
<#if labelKey !=''>${labelKey}<#else><#nested></#if>
</label>
</#macro>
<#macro formHelp style='inline' class='' labelFor=''>
<#if style='inline'>
<p class="help<#if class!=''> ${class}</#if>" <#if labelFor!=''>id="${labelFor}_help"</#if>><#nested></p>
<#else>
<span class="help has-tooltip-bottom has-tooltip-multiline" data-bs-toggle="tooltip" data-bs-placement="bottom" data-tooltip="<#nested>">?</span>
</#if>
</#macro>
<#-- ------------------------------------------------------------------------------------------------------------------------------------------ -->
<#-- INPUTS & TEXTAREA 																															-->
<#-- ------------------------------------------------------------------------------------------------------------------------------------------ -->
<#-- name : Mandatory : Name for field 																											-->
<#-- type : text/textarea/password/email/file/number/range/color/hidden/tel. Default : text 													-->
<#-- value: '' 																																	-->
<#-- class: '' 																																	-->
<#-- id: '' 																																	-->
<#-- title:  '' 																																-->
<#-- size: ''																																	-->
<#-- inputSize: 0																																-->
<#-- maxlength: 0																																-->
<#-- placeHolder: ''																															-->
<#-- rows: 4 Textarea specific																													-->
<#-- cols: 40 Textarea specific																													-->
<#-- pattern:  '' [A-F][0-9]{5}																													-->
<#-- tabIndex:  ''																																-->
<#-- disabled:  false 																															-->
<#-- readonly:  false 																															-->
<#-- min: 0 																																	-->
<#-- max: 0 																																	-->
<#-- min: 0 																																	-->
<#-- params: '' 																																-->
<#-- mandatory: false 																															-->
<#-- language: for input type DATE and datepickers																								-->
<#-- defaultDate: Format must be "yyyy-MM-dd hh:mm"																								-->
<#-- minDate: Format must be "yyyy-MM-dd hh:mm"																									-->
<#-- maxDate: Format must be "yyyy-MM-dd hh:mm"																									-->
<#-- defaultHour: Format must be "hh"																											-->
<#-- defaultMinute: Format must be "mm"																											-->
<#-- minTime : Format must be "hh:mm"																											-->
<#-- maxTime : Format must be "hh:mm"																											-->
<#-- format='' : Format for DB 																													-->
<#-- showFormat='' 	Format for User																												-->
<#-- dateRangeEndId='' Id for date range date end																								-->
<#-- dateParams : [] https://flatpickr.js.org/options/ for options list | Example : dateParams=[{'inline': 'true'},{'hourIncrement': '4'}] 		-->
<#-- showFileUrl=false 																															-->
<#-- fileURL='' 																																-->
<#-- fileName='' 																																-->
<#-- datalist='' To comma separated list of values Example : datalist='titi,tata'																-->
<#-- ------------------------------------------------------------------------------------------------------------------------------------------ -->
<#macro input name id='' type='text' value='' class='' size='' inputSize=0 maxlength=0 placeHolder='' rows=4 cols=40 richtext=false tabIndex='' disabled=false readonly=false pattern='' title='' min=0 max=0 params='' mandatory=false language=.locale minDate='' maxDate='' defaultDate='' minTime='' maxTime='' defaultTime='' time_24hr=true format='' showFormat='' dateRangeEndId='' dateParams=[] showFileUrl=false fileURL='' fileName='' datalist=''>
<#if propagateMandatory?? && propagateMandatory ><#local mandatory = true /></#if>
<#switch size>
	<#case 'xs'>
		<#assign selectSize='small'>
		<#break>
	<#case 'sm'>
		<#assign selectSize='small'>
		<#break>
	<#case 'md'>
		<#assign selectSize='medium'>
		<#break>
	<#case 'lg'>
		<#assign selectSize='large'>
		<#break>
	<#default>
		<#assign selectSize='normal'>
</#switch>
	<#if type='textarea'>
		<textarea name="${name}" class="textarea<#if selectSize!=''> is-${selectSize}</#if><#if class!=''> ${class}</#if><#if richtext> richtext</#if>" rows="${rows}" cols="${cols}"<#if tabIndex!=''> tabindex="${tabIndex}"</#if><#if placeHolder!=''> placeholder="${placeHolder}"</#if><#if title!=''> title="${title}"</#if><#if disabled> disabled</#if><#if readonly> readonly</#if><#if id!=''> id="${id}"</#if><#if params!=''> ${params}</#if><#if pattern!=''>pattern=${pattern}</#if><#if (mandatory && !richtext)> required</#if><#if labelFor?? && labelFor!='' && helpKey?? && helpKey!=''> aria-describedby="${labelFor}_help"</#if>><#if value!='' >${value}<#else><#nested></#if></textarea>
	<#elseif type='text' || type='search' || type='password' || type='email' || type='number' || type='color' || type='range' || type='tel' || type='datalist'>
		<#if propagateAddons><div class="control"></#if>
		<input class="input<#if selectSize!=''> is-${selectSize}</#if><#if type='color'> input-color</#if><#if class!=''> ${class}</#if>" type="${type}" name="${name}" value="${value}"<#if tabIndex!=''> tabindex="${tabIndex}"</#if><#if placeHolder!=''> placeholder="${placeHolder}"</#if><#if title!=''> title="${title}"</#if><#if maxlength &gt; 0> maxlength="${maxlength}"</#if><#if inputSize!=0> size="${inputSize}"</#if><#if disabled> disabled</#if><#if readonly> readonly</#if><#if id!=''> id="${id}"</#if><#if params!=''> ${params}</#if><#if pattern!=''>pattern=${pattern}</#if><#if min!=max> min="${min}"</#if><#if max!=0> max="${max}"</#if><#if mandatory> required </#if><#if labelFor?? && labelFor!='' && helpkey?? && helpKey!=''> aria-describedby="${labelFor}_help"</#if><#if type='datalist'> list="${name}_list"</#if>>
		<#if propagateAddons></div></#if>
		<#if type='datalist'>
			<#if id !='' && datalist !='' >
				<datalist id="${name}_list">
				<#assign options = datalist?split(',')>
				<#list options as opt>
					<option value="${opt!}">
				</#list>
				</datalist>
			<#else>
				<!-- Missing id or params attribute for macro @input for type "datalist" -->
			</#if>
		</#if>
	<#elseif type='file' >
		<div class="file has-name is-right is-fullwidth<#if selectSize!=''> is-${selectSize}</#if>">
			<label class="file-label">
			  	<input class="file-input<#if selectSize!=''> is-${selectSize}</#if><#if class!=''> ${class}</#if>" type="file" name="${name}"value="${value}"<#if tabIndex!=''> tabindex="${tabIndex}"</#if><#if placeHolder!=''> placeholder="${placeHolder}"</#if><#if title!=''> title="${title}"</#if><#if maxlength &gt; 0> maxlength="${maxlength}"</#if><#if inputSize!=0> size="${inputSize}"</#if><#if disabled> disabled</#if><#if readonly> readonly</#if><#if id!=''> id="${id}"</#if><#if params!=''> ${params}</#if><#if pattern!=''>pattern=${pattern}</#if><#if min!=max> min="${min}"</#if><#if max!=0> max="${max}"</#if><#if mandatory> required </#if><#if labelFor?? && labelFor!='' && helpkey?? && helpKey!=''> aria-describedby="${labelFor}_help"</#if>>
			  	<span class="file-cta">
					<span class="file-icon">
				  		<i class="fas fa-upload"></i>
					</span>
					<span class="file-label">#i18n{portal.util.labelDownload}</span>
			  	</span>
			  	<span class="file-name"></span>
			</label>
		</div>
		<input type="hidden" id=${id}Key name="${name}Key" value="${value}" />
		<#if showFileUrl && fileURL?? && fileName??>
			<@link href="${fileURL}">${fileName}</@link>
		</#if>
	<#elseif type='date' || type='datetime' || type='daterange' || type='datetimerange' || type='time'>
		<input class="input<#if size!=''> input-${size}</#if><#if class!=''> ${class}</#if>" type="text" name="${name}" value="${value}"<#if tabIndex!=''> tabindex="${tabIndex}"</#if><#if placeHolder!=''> placeholder="${placeHolder}"</#if><#if title!=''> title="${title}"</#if><#if maxlength &gt; 0> maxlength="${maxlength}"</#if><#if inputSize!=0> size="${inputSize}"</#if><#if disabled> disabled</#if><#if readonly> readonly</#if><#if id!=''> id="${id}"</#if><#if params!=''> ${params}</#if><#if pattern!=''>pattern=${pattern}</#if><#if min!=max> min="${min}"</#if><#if max!=0> max="${max}"</#if><#if mandatory> required </#if><#if labelFor?? && labelFor!='' && helpkey?? && helpKey!=''> aria-describedby="${labelFor}_help"</#if> />
		<#if type='date'>
			<@getDate idField='${id}' language=language format=format showFormat=showFormat minDate=minDate maxDate=maxDate defaultDate=defaultDate dateOptions=dateParams />
		<#elseif type='datetime'>
			<@getDateTime idField='${id}' language=language format=format showFormat=showFormat minDate=minDate maxDate=maxDate defaultDate=defaultDate minTime=minTime maxTime=maxTime dateOptions=dateParams />
		<#elseif type='daterange'>
			<#if dateRangeEndId != ''>
				<@getDateRange idField='${id}' idEndField='${dateRangeEndId}' language=language format=format showFormat=showFormat minDate=minDate maxDate=maxDate defaultDate=defaultDate dateOptions=dateParams />
			<#else>
				<@alert class='danger'>${i18n("portal.util.datepicker.rangeEndId.mandatory")}</@alert>
			</#if>
		<#elseif type='datetimerange'>
			<#if dateRangeEndId != ''>
				<@getDateTimeRange idField='${id}' idEndField='${dateRangeEndId}' language=language format=format showFormat=showFormat minDate=minDate maxDate=maxDate defaultDate=defaultDate minTime=minTime maxTime=maxTime dateOptions=dateParams  />
			<#else>
				<@alert class='danger'>${i18n("portal.util.datepicker.rangeEndId.mandatory")}</@alert>
			</#if>
		<#elseif type='time'>
			<@getTime idField='${id}' language=language format='H:i' showFormat='H:i' minTime=minTime maxTime=maxTime time_24hr=time_24hr defaultDate=defaultDate dateOptions=dateParams />
		</#if>
		<#if id=''><@alert class='danger'>${i18n("portal.util.datepicker.id.mandatory")}</@alert></#if>
	<#elseif type='hidden'>
		<input type="hidden" name="${name}" <#if id!=''>id="${id}"</#if> value="${value}" />
	<#else><@icon style='warning' />Type not supported
	</#if>
</#macro>
<#-- STATIC TEXT -->
<#-- Bootstrap colors: muted/primary/success/info/warning/danger -->
<#-- AdminLTE colors: red/yellow/aqua/blue/black/light-blue/green/gray/navy/teal/olive/lime/orange/fuchsia/purple/maroon -->
<#macro staticText inForm=true color='' id='' params=''>
<p class="<#if inForm>control</#if><#if color!=''> text-${color}</#if>"<#if id!=''> id="${id}"</#if><#if params!=''> ${params}</#if>>
<#nested>
</p>
</#macro>
<#-- CHECKBOX -->
<#-- orientation: vertical/inline. Default is vertical -->
<#macro checkBox name id='' class='' labelKey='' labelFor='' orientation='vertical' value='' tabIndex='' title='' disabled=false readonly=false checked=false params='' mandatory=false deprecated...>
<@deprecatedWarning args=deprecated />	
<#if id = ''><#local id = name /></#if>
<#if orientation!='switch'><label class="checkbox" for="${id}"<#if title!=''> title="${title}"</#if>><#else><div class="field"></#if>
<input type="checkbox" class="<#if orientation='switch'>switch is-small</#if><#if class!=''> ${class}</#if>"id="${id}" name="${name}"<#if value!=''> value="${value}"</#if><#if tabIndex!=''> tabindex="${tabIndex}"</#if><#if checked> checked</#if><#if disabled> disabled</#if><#if readonly> readonly</#if><#if params!=''> ${params}</#if><#if mandatory> required</#if> />
<label for="${id}"<#if title!=''> title="${title}"</#if>>
<#if labelKey!=''>${labelKey}<#else><#nested></#if>
</label>
<#if orientation='switch'></div></#if>
</#macro>
<#-- RADIO BUTTON -->
<#-- orientation: vertical/inline. Default is vertical -->
<#macro radioButton name id='' value='' labelKey='' labelFor='' orientation='inline' tabIndex='' title='' disabled=false readonly=false checked=false params='' mandatory=false >
<#if propagateMandatory?? && propagateMandatory ><#local mandatory = true /></#if>
<#if labelFor = '' && id != ''><#local labelFor = id /></#if>
<#if orientation='inline'><div class="radio"></#if>
<label class="<#if orientation!='vertical'>radio<#else></#if>" for="${labelFor}">
<input type="radio" id="${id}" name="${name}"<#if value!=''> value="${value}"</#if><#if tabIndex!=''> tabindex="${tabIndex}"</#if><#if checked> checked</#if><#if disabled> disabled</#if><#if readonly> readonly</#if><#if mandatory> required</#if><#if params!=''> ${params}</#if> />
<#if labelKey!=''>${labelKey}<#else><#nested></#if>
</label>
<#if orientation='inline'></div></#if>
</#macro>
<#--- MACRO SELECT (TO REPLACE "COMBO" MACROS) --->
<#macro select name items='' default_value='' id=name class='' size='sm' sort=false multiple=0 params='' title='' tabIndex=0 disabled=false maxLength=0 mandatory=false>
<#if propagateMandatory?? && propagateMandatory ><#local mandatory = true /></#if>
<#switch size>
	<#case 'xs'>
		<#assign selectSize='small'>
		<#break>
	<#case 'sm'>
		<#assign selectSize='small'>
		<#break>
	<#case 'md'>
		<#assign selectSize='medium'>
		<#break>
	<#case 'lg'>
		<#assign selectSize='large'>
		<#break>
	<#default>
		<#assign selectSize='normal'>
</#switch>
<#if params?contains('addons')><div class="control"></#if>
<span class="select<#if selectSize!=''> is-${selectSize}</#if><#if multiple!=0> is-multiple</#if><#if class!=''> ${class}</#if>">
    <select id="${id}" name="${name}"<#if class!=''> class="${class}"</#if><#if multiple gt 0>multiple rows="${multiple}"</#if><#if (tabIndex &gt; 0)> tabindex="${tabIndex}"</#if><#if params!=''> ${params}</#if><#if title!=''> ${title}</#if><#if mandatory> required</#if><#if disabled> disabled</#if>>
    <#if items?has_content>
        <#if sort=true>
            <#list items?sort_by("name") as item>
                <#if default_value="${item.code}">
                    <option selected="selected" value="${item.code}" <#if !item.name?has_content>label="${i18n("portal.util.labelEmpty")}"</#if>>${item.name}</option>
                <#else>
                    <option value="${item.code}" <#if !item.name?has_content>label="${i18n("portal.util.labelEmpty")}"</#if>>${item.name}</option>
                </#if>
            </#list>
        <#else>
            <#if maxLength gt 0>
				<#list items as item>
					<#if maxLength < item.name?length >
						<#assign item_new = "..." + "${item.name?substring(item.name?length-maxLength+3)}" >
					<#else>
						<#assign item_new = "${item.name}">
					</#if>
					<#if default_value="${item.code}">
						<option selected="selected" value="${item.code}" >${item_new}</option>
					<#else>
						<option value="${item.code}" >${item_new}</option>
					</#if>
				</#list>
			<#else>
				<#list items as item>
					<#if default_value="${item.code}">
						<option selected="selected" value="${item.code}" <#if !item.name?has_content>label="${i18n("portal.util.labelEmpty")}"</#if>>${item.name}</option>
					<#else>
						<option value="${item.code}" <#if !item.name?has_content>label="${i18n("portal.util.labelEmpty")}"</#if>>${item.name}</option>
					</#if>
				</#list>
			</#if>
        </#if>
    <#else>
        <#nested>
    </#if>
    </select>
</span>
<#if params?contains('addons')></div></#if>
</#macro>
<#--- MACRO OPTIONS  --->
<#--- items : list with label, value, selected values  --->
<#macro options items selected='' id=false class='' params=''>
<#if items??>
	<#list items as item>
		<#local idItem><#if id>${item.code}_${item?index}<#else></#if></#local>
		<#local selectedItem><#if selected !=''><#if item.code?string=selected>true<#else>false</#if><#else>${item.selected?c}</#if></#local>
		<@option label=item.name value=item.code id=idItem class=class selected=selectedItem?boolean disabled=item.disabled params=params /> 
	</#list>
</#if>
</#macro>
<#macro option label value id='' class='' selected=false disabled=false params=''>
<option<#if id!=''>id="${id}</#if><#if class!=''> class="${class}</#if> value="${value!}"<#if selected> selected</#if><#if disabled> disabled</#if><#if params!=''> ${params}</#if>>${label!} <#nested></option>
</#macro>
<#-- INPUT-GROUP 	-->
<#-- size: ignored 	-->
<#macro inputGroup size='' id='' class='control has-icons-left is-expanded' params=''>
<#local localClass><#if propagateAddons><#else>${class}</#if></#local>
<#if localClass!=''><div class="${localClass}"<#if id!=''> id="${id}"</#if><#if params!=''> ${params}</#if>></#if>
<#nested>
<#if localClass!=''></div></#if>
</#macro>
<#macro inputGroupItem pos='is-left' type='btn' id='' params=''>
<#-- type: btn/text. default is btn -->
<#if type='btn'>
	<div class="control<#if pos!=''> ${pos}</#if>"<#if id!=''> id="${id}"</#if><#if params!=''> ${params}</#if>>
		<#nested>
	</div>
<#else>
	<span class="icon<#if pos!=''> ${pos}</#if>"<#if id!=''> id="${id}"</#if><#if params!=''> ${params}</#if>>
		<#nested>
	</span>
</#if>
</#macro>
<#-- DROPDOWN MENU -->
<#-- class: dropdown-menu-right -->
<#-- Expected content : <li><a>Your link here</a></li> -->
<#macro dropdownMenu class='' id='' params=' role="menu"'>
<div class="dropdown-menu ${class}"<#if id!=''> id="${id}"</#if><#if params!=''> ${params}</#if>>
	<div class="dropdown-content">
		<#nested>
	</div>
</div>
</#macro>
<#-- ROW -->
<#macro row class='is-mobile' id='' collapsed=false align='' params=''>
<#if collapsed><#local class += ' ' + 'collapse' /></#if>
<#if align!=''><#local class+= ' ' + alignmentSettings(align) /></#if>
<div class="columns<#if class!=''> ${class}</#if>"<#if id!=''> id="${id}"</#if><#if params!=''> ${params}</#if>>
	<#nested>
</div>
</#macro>
<#-- COLUMNS -->
<#-- cols -->
<#macro columns tag='div' offset={} offsetXs=0 offsetSm=0 offsetMd=0 offsetLg=0 offsetXl=0 order={} pushXs=0 pushSm=0 pushMd=0 pushLg=0 pushXl=0 pullXs=0 pullSm=0 pullMd=0 pullLg=0 pullXl=0 xs=0 sm=0 md=0 lg=0 xl=0 id='' class='' collapsed=false align='' params=''>
<#if collapsed><#local class += ' ' + 'collapse' /></#if>
<#if align!=''><#local class+= ' ' + alignmentSettings(align,'') /></#if>
<#if xs gt 0 || sm gt 0 || md gt 0 || lg gt 0 || xl gt 0>
<#local class += ' ' + responsiveDisplay('col',{'xs':xs, 'sm':sm, 'md':md, 'lg':lg, 'xl':xl}) />
</#if>
<#if offset?has_content>
	<#local class += ' ' + responsiveDisplay('offset',offset) />
<#elseif offsetXs &gt; 0 || offsetSm &gt; 0 || offsetMd &gt; 0 || offsetLg &gt; 0 || offsetXl &gt; 0>
	<#local class += ' ' + responsiveDisplay('offset',{'xs':offsetXs, 'sm':offsetSm, 'md':offsetMd, 'lg':offsetLg, 'xl':offsetXl}) />
</#if>
<#if order?has_content>
	<#if order?is_number>
		<#local class += ' order-${order}' />
	<#elseif order?is_hash>
		<#local class += ' ' + responsiveDisplay('order',order) />
	</#if>
</#if>
<${tag} class="column<#if class!=''> ${class}</#if>"<#if id!=''> id="${id}"</#if><#if params!=''> ${params}</#if>>
<#nested>
</${tag}>
</#macro>
<#-- LISTS -->
<#macro ul id='' class='' align='' hide=[] collapsed=false params=''>
<#if collapsed><#local class += ' ' + 'collapse' /></#if>
<#if align!=''><#local class+= ' ' + alignmentSettings(align) /></#if>
<ul<#if class?trim!=''> class="${class?trim}"</#if><#if params!=''> ${params}</#if><#if id!=''> ${id}</#if>>
<#nested>
</ul>
</#macro>
<#macro li id='' params='' class=''>
<li<#if class?trim!=''> class="${class?trim}"</#if><#if params!=''> ${params}</#if><#if id!=''> ${id}</#if>>
<#nested>
</li>
</#macro>
<#-- DIV -->
<#macro div id='' class='' hide=[] collapsed=false align='' params=''>
<#if collapsed><#local class += ' ' + 'collapse' /></#if>
<#if align!=''><#local class+= ' ' + alignmentSettings(align) /></#if>
<#if hide??><#local class += ' ' + displaySettings(hide,'block') /></#if>
<div<#if class?trim!=''> class="${class?trim}"</#if><#if id!=''> id="${id}"</#if><#if params!=''> ${params}</#if>>
<#nested>
</div>
</#macro>
<#-- PARAGRAPH -->
<#macro p id='' class='' hide=[] collapsed=false align='' params=''>
<#if collapsed><#local class += ' ' + 'collapse' /></#if>
<#local class += ' ' + alignmentSettings(align) + ' ' + displaySettings(hide,'is-block') />
<p<#if class?trim!=''> class="${class?trim}"</#if><#if params!=''> ${params}</#if><#if id!=''> ${id}</#if>>
<#nested>
</p>
</#macro>
<#-- SPAN -->
<#macro span id='' class='' hide=[] collapsed=false align='' params=''>
<#if collapsed><#local class += ' ' + 'collapse' /></#if>
<#local class += ' ' + alignmentSettings(align) + ' ' + displaySettings(hide,'is-inline') />
<span<#if class?trim!=''> class="${class?trim}"</#if><#if params!=''> ${params}</#if><#if id!=''> ${id}</#if>>
<#nested>
</span>
</#macro>
<#-- PRE -->
<#macro pre id='' class='' hide=[] collapsed=false align='' params=''>
<#if collapsed><#local class += ' ' + 'collapse' /></#if>
<#local class += ' ' + alignmentSettings(align) + ' ' + displaySettings(hide,'is-block') />
<pre<#if class!=''> class="${class?trim}"</#if><#if params!=''> ${params}</#if><#if id!=''> ${id}</#if>>
<#nested>
</pre>
</#macro>
<#-- TABS 	-->
<#-- TAB 	-->
<#-- style: tabs/tabs nav-justified/pills/pills nav-stacked/pills nav-justified -->
<#macro tabs color='' style='tabs' class='' hide=[] collapsed=false id='' params=''>
<#if hide??><#local class += ' ' + displaySettings(hide,'block') /></#if>
<#if collapsed><#local class += ' ' + 'collapse' /></#if>
<#assign propagateTabStyle = style />
<#if hide?? || collapsed><div class="${class?trim}"></#if>
<#nested>
<#if hide?? || collapsed></div></#if>
</#macro>
<#-- Tabs List -->
<#-- type is deprecated -->
<#macro tabList style='tabs' vertical=false id='' params='' color=''>
<#if propagateTabStyle?? && style='tabs'><#local style = propagateTabStyle /><#elseif vertical=true><#local style='menu-list' /><#else><#local style=style /></#if>
<#if style='tabs'><div class="tabs"></#if>
<ul<#if style!='tabs'> class="${style}${color}"</#if><#if id!=''> id="${id}"</#if><#if params!=''> ${params}</#if>>
<#nested>
</ul>
<#if style='tabs'></div></#if>
</#macro>
<#-- Tabs -->
<#-- type:  -->
<#macro tabLink class='' hide=[] id='' active=false href='' title='' tabLabel='' tabIcon='' tabClass='' params=''>
<li class="<#if active>is-active</#if><#if class?trim!=''> ${class}</#if>"<#if id!=''> id="${id}"</#if><#if params!=''> ${params}</#if>>
<@link href='${href}' title='${title}'>
<#if tabIcon!=''><span class="icon is-small"><@icon style=tabIcon /></span></#if>
<#if tabLabel !=''>${tabLabel!}<#else>${title!}</#if> <#nested>
</@link>
</li>
</#macro>
<#-- TAB Content -->
<#macro tabContent id='' params=''>
<div class="tab-content">
<#nested>
</div>
</#macro>
<#-- Tab Panel -->
<#macro tabPanel id params='' active=false>
<div class="tab-pane fade<#if active> show active</#if>" role="tabpanel" id="${id}" aria-labelledby="${id}-tab"<#if params!=''> ${params}</#if>>
<div class="container-fluid box"><#nested></div>
</div>
</#macro>
<#-- ACCORDION --> 
<#-- The accordionContainer is the container for accordionPanel, which itself is the container for accordionHeader and accordionBody -->
<#-- The childId argument in accordionPanel is meant to be used in the two sub-macros: accordionHeader and accordionBody -->
<#macro accordionContainer id='' params=''>
<#if id = '' >
   <#if accordionContainerId?? == false><#assign accordionContainerId = 1 ><#else><#assign accordionContainerId = accordionContainerId + 1 ></#if>
   <#local id = 'accCont_'+ accordionContainerId >
</#if>
<div class="accordions" id="${id}"<#if params!=''> ${params}</#if>>
<#assign parentId = id>
<#nested>
</div>
</#macro>
<#macro accordionPanel color='' collapsed=true childId='' id='' params=''>
<div class="accordion"<#if id!=''> id="${id}"</#if><#if params!=''> ${params}</#if>>
<#if collapsed = true>
	<#assign aClass = ''>
	<#assign expanded = 'false'>
	<#assign childClass = 'panel-collapse collapse'>
<#else>
	<#assign aClass = 'is-active'>
	<#assign expanded = 'true'>
	<#assign childClass = 'panel-collapse collapse in'>
</#if>
	<#assign childId = childId>
<#nested>
</div>
</#macro>
<#-- ACCORDION ELEMENT --> 
<#-- The boxTools parameter is unused, kept for backwards compatibility -->
<#macro accordionHeader title='' parentId=parentId childId=childId boxTools=false id='' params='' headerIcon='' >
<div class="accordion-header toggle has-background-light"<#if id!=''> id="${id}"</#if><#if params!=''> ${params}</#if>>
<h2 class="title has-text-primary"><#if headerIcon!=''><@icon style=headerIcon /></#if> ${title}</h2>
<#local nested><#nested></#local>
<#if nested?has_content>
<div class="is-pulled-right">${nested}</div>
</#if>
</div>
<#assign parentId=parentId />
</#macro>
<#macro accordionBody id=childId class=childClass expanded=expanded params=''>
<div id="${id}" class="accordion-body ${class}" aria-expanded="${expanded}"<#if params!=''> ${params}</#if>>
<@boxBody>
<#nested>
</@boxBody>
</div>
</#macro>
<#macro progressBar description='' id='' params=''>
<div class="progress"<#if id!=''> id="${id}"</#if><#if params!=''> ${params}</#if>>
	<div id="progressbar" class="progress-bar progress-bar-striped" role="progressbar">
		<div id="complexity">0%</div>
	</div>
</div>
<#if description!=''>
<span class="progress-description">${description}</span>
</#if>
</#macro>
<#-- Progress macro
    token : the progress manager Feed Token
    interval : refresh period in milli seconds (if the feed token is provided) 
    showReport : display the messages report (if the feed token is provided) -->
<#macro progress color='primary' id='' params='' value=0 min=0 max=100 text='' progressId='progressbar' token='' label='' showReport=false intervalTime=2000 >
<#if label!='' >
<div id="${progressId}-label" >${label}</div>
</#if>
<div class="progress"<#if id!=''> id="${id}"</#if><#if params!=''> ${params}</#if>>
    <progress id="${progressId}" max="${max}" value="${value}" class="progress is-${color}<#if token!=''> progressmanager</#if>" <#if token!=''>token="${token}" intervalTime=${intervalTime} showReport=${showReport?c}</#if> ><#if text=''>${value}%<#else>${text}</#if></progress>
</div>
<#if showReport >
<div id="${progressId}-report" class="progress-bar-report" lastline=0></div>
</#if>
</#macro>
<#-- TAG -->
<#-- color: default/primary/success/info/warning/danger/ -->
<#macro tag color='default' class='' size='' title='' tagIcon='' id='' params='' deprecated...>
<@deprecatedWarning args=deprecated />	
    <#switch size>
        <#case 'xs'>
            <#assign tagSize='is-small'>
            <#break>
        <#case 'sm'>
            <#assign tagSize=''>
            <#break>
        <#case 'md'>
            <#assign tagSize='is-medium'>
            <#break>
        <#case 'lg'>
            <#assign tagSize='is-large'>
            <#break>
        <#default>
            <#assign tagSize='is-normal'>
    </#switch>
	<span class="tag is-${color}<#if class!=''> ${class}</#if><#if tagSize!=''> ${tagSize}</#if>"<#if title!=''> title='${title}'</#if><#if id!=''>id='${id}'</#if><#if params!=''>${params}</#if>>
        <#if tagIcon !=''>
            <@icon style=tagIcon /> &nbsp;
        </#if>
		<#nested>
	</span>
</#macro>
<#-- NAVBAR -->
<#macro navBar tag='nav' class='' id='' params=''>
<${tag} class="navbar<#if class!=''> ${class}</#if>"<#if id!=''> id="${id}"</#if><#if params!=''> ${params}</#if>>
	<#nested>
</${tag}>
</#macro>
<#-- NAV -->
<#macro nav tag='nav' type='tab' class='' id='' params=''>
<${tag} class="nav nav-${type!}<#if class!=''> ${class}</#if>"<#if id!=''> id="${id}"</#if><#if params!=''> ${params}</#if>>
	<#nested>
</${tag}>
</#macro>
<#-- NAVITEM -->
<#macro navItem href='' name='' active=false title='' alt='' target='' tag='li' class='' id='' params=''>
<${tag} class="nav-link<#if class!=''> ${class}</#if>"<#if id!=''> id="${id}"</#if><#if params!=''> ${params}</#if>>
	<#if href !='' >
		<@link class='nav-link' href=href name=name title=title alt=alt target=target active=active /> 
	</#if>
	<#nested>
</#${tag}>
</#macro>
<#-- BUTTON 																																-->
<#-- bootstrap 3 : size: btn-xs/btn-sm/btn-lg 																								-->
<#-- upcoming bootstrap 4 : size: btn-sm for small buttons/empty for medium buttons/btn-lg for large buttons 								-->
<#-- color: default[bootstrap4 : secondary]/primary/success/warning/danger/info 															-->
<#-- color (upcoming bootstrap 4): btn-outline-default/btn-outline-primary/btn-outline-success/btn-outline-warning/btn-outline-...			-->
<#-- style: btn-block/btn-flat/close/navbar-toggle/collapsed... 																			-->
<#-- type: button/submit/reset 																												-->
<#-- params: data-toggle/data-target/data-dismiss... 																						-->
<#-- buttonIcon: icon name ex: info/check/comment/envelope... 																				-->
<#-- iconPosition: left/right 																												-->
<#-- cancel: switch to true for a cancellation form button. Adds the "formnovalidate" attribute to the button, as well as the right class 	-->
<#-- formId: contains the form ID if the button is outside of the form 																		-->
<#-- buttonTargetId: contains the target element ID 																						-->
<#-- showTitle, showTitleXs, showTitleSm, showTitleMd, showTitleLg are deprecated in Lutece v7 												-->
<#macro button name='' id='' type='button' size='sm' color='primary' style='' class='' params='' value='' title='' tabIndex='' hideTitle=[] showTitle=true showTitleXs=true showTitleSm=true showTitleMd=true showTitleLg=true buttonIcon='' disabled=false iconPosition='left' dropdownMenu=false cancel=false formId='' buttonTargetId='' deprecated...>
<@deprecatedWarning args=deprecated />
<#if color = 'default' || color='btn-default' || color='btn-secondary' || color='secondary'><#local buttonColor = '' /><#else><#local buttonColor = color /></#if>
<#-- Visibility of button title -->
<#local displayTitleClass = displaySettings(hideTitle,'inline-flex') />
<#-- Visibility of button title: backwards compatibility with Lutece v6, BS3 only -->
<#local showTitleClass = '' />
<#if showTitle = false><#local showTitleClass = 'is-sr-only' /></#if>
<#if showTitleXs = false><#local showTitleClass = showTitleClass + ' is-hidden-mobile' /></#if>
<#if showTitleSm = false><#local showTitleClass = showTitleClass + ' is-hidden-tablet-only' /></#if>
<#if showTitleMd = false><#local showTitleClass = showTitleClass + ' is-hidden-desktop-only' /></#if>
<#if showTitleLg = false><#local showTitleClass = showTitleClass + ' is-hidden-widescreen-only' /></#if>
<#switch size>
	<#case 'xs'>
		<#local buttonSize='small'>
		<#break>
	<#case 'sm'>
		<#local buttonSize='small'>
		<#break>
	<#case 'md'>
		<#local buttonSize='medium'>
		<#break>
	<#case 'lg'>
		<#local buttonSize='large'>
		<#break>
	<#default>
		<#local buttonSize='normal'>
</#switch>
<#if style != ''>
	<#if style?contains('card-control')>
		<#if style?contains('collapse')>
			<#local widgetAction = 'collapse' />
			<script>
				$( function() {
				<#if buttonIcon = 'minus'>
					$("${buttonTargetId}").addClass("show");
				<#else>
					$("${buttonTargetId}").addClass("collapse");
				</#if>
				});
			</script>
		<#elseif style?contains('remove')>
			<#local widgetAction = 'remove' />
			<#local class += ' delete' />
		</#if>
		<#local btnStyle = style?replace('collapse|remove', '', 'r')?trim />
	<#elseif style?contains('modal')>
		<#local widgetAction = 'modal' />
		<#local btnStyle = style?replace('modal', '', 'r')?trim />
	<#else>
		<#local btnStyle = style />
	</#if>
</#if>
<#if dropdownMenu>
<div class="dropdown">
	<div class="dropdown-trigger">
</#if>
<button class="<#if buttonSize!=''>is-${buttonSize}</#if><#if buttonColor!=''> is-${buttonColor}</#if><#if btnStyle?? && btnStyle!=''> ${btnStyle}<#else> button</#if><#if class!=''> ${class}</#if>"<#if dropdownMenu> aria-haspopup="true" aria-controls="${id}-content"</#if> type="${type}"<#if title!=''> title="${title}"</#if><#if name!=''> name="${name}"</#if><#if id!=''> id="${id}"</#if><#if value!=''> value="${value}"</#if><#if params!=''> ${params}</#if><#if disabled> disabled</#if><#if dropdownMenu> data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"</#if><#if widgetAction?? && widgetAction!=''><#if widgetAction = 'collapse' || widgetAction = 'modal'> data-toggle="${widgetAction}"<#elseif widgetAction = 'remove'> data-dismiss="alert"</#if></#if><#if buttonTargetId!=''> data-target="${buttonTargetId}"</#if><#if cancel> formnovalidate</#if><#if formId!=''> form="${formId}"</#if>>
	<#if buttonIcon!='' && iconPosition='left'><span class="icon"><@icon style=buttonIcon /></span></#if>
	<#local nestedContent><#nested /></#local>
	<#local nestedContent = nestedContent?trim />
	<#if nestedContent='' && displayTitleClass !='is-sr-only'><span<#if displayTitleClass!=''> class="${displayTitleClass}${showTitleClass}"</#if>>${title}</span></#if>
	<#if nestedContent!='' && !dropdownMenu><span<#if displayTitleClass!=''> class="${displayTitleClass}"</#if>><#nested></#if>
	<#if buttonIcon!='' && iconPosition='right'><span class="icon"><@icon style=buttonIcon /></span></#if>
	<#if dropdownMenu><@icon style='caret-down' /></#if>
</button>
<#if dropdownMenu>
		<div class="dropdown-menu" id="${id!}-content" role="menu">
    		<div class="dropdown-content">
			<#nested>
			</div>
		</div>
	</div>
</div>
</#if>
</#macro>
<#-- A BUTTON (LINK STYLED AS A BUTTON) -->
<#-- size: small/medium/large -->
<#-- color: default/primary/success/warning/danger/info/bg-purple/bg-blue/bg-navy/bg-teal/bg-maroon/bg-black/bg-gray/bg-olive/bg-lime/bg-orange/bg-fuchsia -->
<#-- style: disabled ignored : btn-block/btn-flat/btn-app-->
<#-- icon: icon name ex: info/check/comment/envelope... -->
<#macro aButton name='' id='' href='' target='' size='sm' color='primary' style='' align='' class='' params='' title='' tabIndex='' hideTitle=[] buttonIcon='' disabled=false iconPosition='left' dropdownMenu=false cancel=false deprecated...>
<@deprecatedWarning args=deprecated />
<#local displayTitleClass = displaySettings(hideTitle,'inline') />
<#if color = 'default' || color = 'secondary'>
	<#assign buttonColor = '' />
<#else>
	<#assign buttonColor = color />
</#if>
<#switch size>
<#case ''>
	<#assign buttonSize='normal'>
	<#break>
<#case 'xs'>
	<#assign buttonSize='small'>
	<#break>
<#case 'sm'>
	<#assign buttonSize='small'>
	<#break>
<#case 'md'>
	<#assign buttonSize='medium'>
	<#break>
<#case 'lg'>
	<#assign buttonSize='large'>
	<#break>
<#default>
	<#assign buttonSize='small'>
</#switch>
<#local class += alignmentSettings(align) />
<#if dropdownMenu>
<div class="dropdown">
	<div class="dropdown-trigger">
</#if>
<a class="<#if buttonSize!=''>is-${buttonSize}</#if><#if buttonColor!=''> is-${buttonColor}</#if><#if style!=''> ${style}<#else> button</#if><#if class!=''> ${class}</#if>"<#if name!=''> name="${name}"</#if><#if id!=''> id="${id}"</#if> href="${href}" title="${title}"<#if target!=''> target="${target}"</#if><#if params!=''> ${params}</#if><#if disabled> disabled</#if><#if dropdownMenu> data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"</#if>>
<#if buttonIcon!='' && iconPosition='left'><span class="icon"><@icon style=buttonIcon /></span></#if>
<#if displayTitleClass!='is-sr-only'><span class="${displayTitleClass}">${title}</span></#if>
<#if buttonIcon!='' && iconPosition='right'><span class="icon"><@icon style=buttonIcon /></span></#if>
<#if dropdownMenu>&#160;<@icon style='caret-down' /></#if>
<#if !dropdownMenu>
	<#nested>
</#if>
</a>
<#if dropdownMenu>
	</div>
	<div class="dropdown-menu"<#if id!=''> id="${id}-content" aria-labelledby="${id}-content"</#if> role="menu">
		<div class="dropdown-content">
			<#nested>
		</div>
	</div>
</div>
</#if>
</#macro>
<#-- BTN TOOLBAR -->
<#macro btnToolbar id='' class='' align='' ariaLabel='' params=''>
<#if align!=''><#local class += ' ' + alignmentSettings(align) /></#if>
<div class="field is-grouped<#if class!=''> ${class?trim}</#if>" role="toolbar"<#if ariaLabel!=''> aria-label="${ariaLabel}"</#if><#if id!=''> id="${id}"</#if><#if params!=''> ${params}</#if>>
	<#nested>
</div>
</#macro>
<#-- BTN GROUP -->
<#-- size: sm/lg -->
<#-- align: left/center/right -->
<#macro btnGroup size='' align='' class='' id='' params='' ariaLabel='' hide=[]   deprecated...>
<@deprecatedWarning args=deprecated />	
<#local class += ' ' + displaySettings(hide,'inline-flex') />
    <#switch size>
        <#case 'sm'>
            <#local class += ' are-small'>
            <#break>
        <#case 'lg'>
            <#local class += ' are-large'>
            <#break>
		<#default>
        <#local class += ''>
    </#switch>
    <#switch align>
        <#case 'right'>
            <#local class += ' is-right'>
            <#break>
        <#case 'center'>
            <#local class += ' is-centered'>
            <#break>
        <#default>
        <#local class += ''>
    </#switch>
    <div class="field is-grouped<#if class?trim!=''> ${class?trim}</#if>" role="group"<#if ariaLabel!=''> aria-label="${ariaLabel}"</#if><#if id!=''> id="${id}"</#if><#if params!=''> ${params}</#if>>
        <#nested>
    </div>
</#macro>
<#-- Radio button/Checkbox as buttons (to use with btnGroup)  -->
<#-- type: radio/checkbox -->
<#macro btnGroupRadioCheckbox type='checkbox' color='primary' size='' name='' id='' params='' ariaLabel='' labelFor='' labelKey='' labelParams='' tabIndex='' value='' checked=false>
<label class="button is-${color}<#if size!=''> btn-${size}</#if>" for="${labelFor}"<#if labelParams!=''> ${labelParams}</#if>>
	<input type="${type}" name="${name}" id="${id}" autocomplete="off"<#if value!=''> value="${value}"</#if><#if params!=''> ${params}</#if><#if tabIndex!=''> tabindex="${tabIndex}"</#if><#if checked> checked</#if> /><#if labelKey!=''>${labelKey}</#if>
</label>
</#macro>
<#-- Simple links a href, anchors -->
<#macro link href='' class='' id='' name='' title='' alt='' target='' params=''>
	<a href="${href}"<#if class!=''> class="${class}"</#if><#if id!=''> id="${id}"</#if><#if name!=''> name="${name}"</#if><#if target!=''> target="${target}"</#if><#if title!=''> title="${title}"</#if><#if alt!=''> alt="${alt}"</#if><#if params!=''> ${params}</#if>>
		<#nested>
	</a>
</#macro>
<#-- MODAL 						-->
<#-- bgColor: card / content 	-->
<#macro modal id params='' bgColor='card' size=''>
<div class="modal" role="dialog" id="${id}" data-toggle="modal"<#if params!=''> ${params}</#if>>
	<div class="modal-background"></div>
	<div class="modal-${bgColor}">
		<#nested>
	</div>
</div>
</#macro>
<#macro modalHeader titleLevel='p' modalTitle='' id='' params=''>
<div class="modal-card-head"<#if id!=''> id="${id}"</#if><#if params!=''> ${params}</#if>>
	<#nested>
	<${titleLevel} class="modal-card-title">${modalTitle}</${titleLevel}>
	<button type="button" class="delete" data-dismiss="modal" aria-label="Close">
		<span aria-hidden="true">&times;</span>
	</button>
</div>
</#macro>
<#macro modalBody id='' params=''>
<div class="modal-card-body"<#if id!=''> id="${id}"</#if><#if params!=''> ${params}</#if>>
	<#nested>
</div>
</#macro>
<#macro modalFooter id='' params=''>
<div class="modal-card-foot"<#if id!=''> id="${id}"</#if><#if params!=''> ${params}</#if>>
	<#nested>
</div>
</#macro>
<#macro modalScript id params=''>
<div class="modal-card-foot"<#if id!=''> id="${id}"</#if><#if params!=''> ${params}</#if>>
	<#nested>
</div>
</#macro>
<#-- BREADCRUMBS -->
<#macro breadcrumbs id='' class='' params=''>
<nav class="breadcrumb<#if class!=''> ${class}"</#if>" aria-label="breadcrumbs">
	<ul<#if id!=''> id="${id}"</#if><#if params!=''> ${params}</#if>>
	<#nested>
	</ul>
</nav>
</#macro>
<#macro breadcrumbItem class='' id='' params=''>
<li <#if class!=''>class="${class}"</#if><#if id!=''> id="${id}"</#if><#if params!=''> ${params}</#if>>
	<#nested>
</li>
</#macro>
<#-- CALLOUT -->
<#-- AdminLTE classes: info/warning/danger/success -->
<#macro callOut color='' titleLevel='h3' title='' callOutIcon='' id='' params=''>
<div class="notification<#if color!=''> is-${color}</#if>"<#if id!=''> id="${id}"</#if><#if params!=''> ${params}</#if>>
<#if title!=''><${titleLevel}><@icon style=callOutIcon /> ${title}</${titleLevel}></#if>
<#nested>
</div>
</#macro>
<#-- ALERT -->
<#-- class:  -->
<#-- color: success/info/warning/danger -->
<#macro alert class='' color='' titleLevel='h3' title='' iconTitle='' dismissible=false id='' params=''>
<div class="notification is-flex is-align-items-center<#if class!=''> ${class}</#if><#if color!=''> is-${color}</#if>"<#if id!=''> id="${id}"</#if><#if params!=''> ${params}</#if>>
<#if dismissible><@button color='' size='' style='card-control remove'>&times;</@button></#if>
<#if iconTitle!=''><@icon style=iconTitle class='mr-3' /></#if>
<#if title!=''><${titleLevel}><span>${title}</span></${titleLevel}></#if>
<#nested>
</div>
</#macro>
<#---------------------------------------->
<#-- AdminLTE Box -->
<#-- color: default/primary/info/success/warning/danger -->
<#-- style: solid (no top border) -->
<#-- collapsed: true/false -->
<#macro box color='' id='' style='' class='' title='' params='' collapsed=false>
<div class="card<#if color!=''> has-${color}</#if><#if style!=''> box-${style}</#if><#if class!=''> ${class}</#if><#if collapsed> collapsed-box</#if>"<#if id!=''> id="${id}"</#if><#if params!=''> ${params}</#if>>
<#if title=''>
	<#nested>
<#else>
	<@boxHeader title=title params=params skipHeader=true />
	<@boxBody><#nested></@boxBody>
</#if>
</div>
</#macro>
<#-- The boxTools parameter is unused, kept for backwards compatibility -->
<#macro boxHeader title='' i18nTitleKey='' hideTitle=[] showTitle=true id='' class='' params='' boxTools=false titleLevel='div' deprecated...>
<@deprecatedWarning args=deprecated />
<header class="card-header<#if class!=''> ${class}</#if>"<#if id!=''> id="${id}"</#if><#if params!=''> ${params}</#if>>
<${titleLevel} class="card-header-title<#if showTitle=false> sr-only</#if>"><#if title!=''>${title}</#if><#if i18nTitleKey!=''>#i18n{${i18nTitleKey}}</#if></${titleLevel}>
<#nested>
</header>
</#macro>
<#macro boxBody class='' collapsed=false align='' id='' params=''>
<#if collapsed><#local class += ' ' + 'collapse' /></#if>
<#if align!=''><#local class += ' ' + alignmentSettings(align) /></#if>
<div class="card-content<#if class!=''> ${class}</#if>"<#if id!=''> id="${id}"</#if><#if params!=''> ${params}</#if>>
<#nested>
</div>
</#macro>
<#macro boxFooter class='' align='' id='' params=''>
<#if align!=''><#local class += ' ' + alignmentSettings(align) /></#if>
<div class="card-footer<#if class!=''> ${class}</#if>"<#if id!=''> id="${id}"</#if><#if params!=''> ${params}</#if>>
<#nested>
</div>
</#macro>
<#---------------------------------------->
<#-- INFO-BOX AdminTLE (widget) -->
<#-- color: only for the left side showing the icon. -->
<#-- bgColor: for the right side containing the text -->
<#macro infoBox color='' boxText='' boxIcon='' boxNumber='0' unit='' bgColor='' progressBar='' progressDescription='' id='' params=''>
<div class="box<#if bgColor!=''> ${bgColor}</#if>"<#if id!=''> id="${id}"</#if><#if params!=''> ${params}</#if>>
	<article class="media">
		<div class="media-left">
			<figure class="image">
				<@icon style=boxIcon class='has-text-dark' />
			</figure>
		</div>
		<div class="media-content">
			<div class="content">	
				<#if boxText !=''><p class="font-weight-bold">${boxText}</p></#if>
				<#if boxNumber !='0'><p>${boxNumber?trim} / ${progressBar?trim} <#if unit!=''> <small>${unit}</small></#if></p></#if>
				<#if bgColor!='' && progressBar!=''><progress class="progress is-primary" value="${(boxNumber?trim?number/progressBar?trim?number*100)?string.computer}" max="100"> ${boxNumber}% </progress></#if>
				<#if progressDescription!=''><p>${progressDescription}</p></#if>
				<#nested />
			</div>
		</div>
	</article>
</div>
</#macro>	
<#-- AdminLTE Small Box -->
<#-- color: Bootstrap + AdminLTE colors -->
<#-- unit: %,... -->
<#macro smallBox color='' title='' text='' boxIcon='' titleLevel='h3' unit='' url='' urlText='' id='' params='' fontSize='1rem'>
<div class="box<#if color!=''> has-background-${color}-dark</#if>"<#if id!=''> id="${id}"</#if><#if params!=''> ${params}</#if>>
	<article class="media">
		<div class="media-left">
			<figure class="image">
				<@icon style=boxIcon class='fa-3x has-text-dark' />
			</figure>
		</div>
		<div class="media-content">
			<div class="content">	
				<h4><#if url!=''><a class="has-text-primary-light" href="${url}"></#if>${text}<#if url!=''></a></#if></h4>
				<${titleLevel} class="has-text-primary-light"" style="font-size:${fontSize};"><span>${title}</span><#if unit!=''> &nbsp; ${unit}</#if></${titleLevel}>
			</div>
		</div>
	</article>
</div>
</#macro>
<#-- AdminLTE Error Page -->
<#-- Error Type: 500,404... -->
<#-- Color: primary/blue/navy/aqua/teal/green/orange/yellow/red/purple/maroon/gray/black... -->
<#macro errorPage color='' errorType='' id='' params=''>
<div class="error-page"<#if id!=''> id="${id}"</#if><#if params!=''> ${params}</#if>>
	<h2 class="headline text-${color}">${errorType}</h2>
	<div class="error-content">
		<h3>
			<@icon style='warning' class='text-${color}' />
			<#if errorType=='404'>
				#i18n{portal.util.error404.title}
			<#elseif errorType='500'>
				#i18n{portal.util.error500.title}
			<#else>...
			</#if>
		</h3>
		<p>
			<#if errorType=='404'>
				#i18n{portal.util.error404.text} 
			<#elseif errorType='500'>
				#i18n{portal.util.error500.text} 
			<#else>...
			</#if>
		</p>
		<@aButton href='' size='' color='bg-${color}' style=''>
			<@icon style='home' />
			#i18n{portal.util.labelBackHome}
		</@aButton>
	</div>
</div>
</#macro>
<#-- CONTEXTUAL BACKGROUND P-->
<#-- Bootstrap colors: primary/success/info/warning/danger -->
<#-- AdminTLE colors: gray/gray-light/black/red/yellow/aqua/blue/light-blue/green/navy/teal/olive/lime/orange/fuchsia/purple/maroon -->
<#macro coloredBg color='' type='p' id='' params=''>
<${type} class="bg-${color}"<#if id!=''> id="${id}"</#if><#if params!=''> ${params}</#if>>
	<#nested>
</${type}>
</#macro>
<#macro listGroup id='' class='' params=''>
<div class="panel <#if class!=''> ${class}</#if>"<#if id!=''> id="${id}"</#if><#if params!=''> ${params}</#if>>
	<p>PROUT</p>
<#nested>
</div>
</#macro>
<#macro listGroupItem id='' class='' params=''>
<div class="panel-block<#if class!=''> ${class}</#if>"<#if id!=''> id="${id}"</#if><#if params!=''> ${params}</#if>>
<#nested>
</div>
</#macro>
<#macro unstyledList id='' params=''>
<ul class="unstyled"<#if id!=''> id="${id}"</#if><#if params!=''> ${params}</#if>>
<#assign liClass = "margin">
<#nested>
</ul>
</#macro>
<#-- DROPDOWN MENU LIST -->
<#macro dropdownList id='' params=''>
<div class="dropdown is-active">
	<div class="dropdown-trigger">
		<button class="button is-primary is-sm" aria-haspopup="true" aria-controls="dropdown-menu">
			<span>Dropdown button</span>
			<span class="icon is-small">
				<i class="fa fa-angle-down" aria-hidden="true"></i>
			</span>
		</button>
	</div>
	<div class="dropdown-menu" id="dropdown-menu" role="menu">
		<div class="dropdown-content">
			<#nested>
		</div>
	</div>
</#macro>
<#macro dropdownItem class='' href='' title='' target='' id='' params=''>
<a href="${href}" class="dropdown-item<#if class!=''> ${class}</#if>" title="${title}"<#if id!=''> id="${id}"</#if><#if params!=''> ${params}</#if><#if target!=''> target="${target}"</#if>>${title}</a>
</#macro>
<#-- CARDS -->
<#macro card header=false headerTitle='' headerIcon=false headerTitleIcon=''>
<div class="panel panel-default">
<#if header><div class="panel-heading"><#if headerIcon><@icon style='${headerTitleIcon}' />&#160;</#if>${headerTitle}</div></#if>
<div class="panel-body">
<#nested>
</div>
</div>
</#macro>
<#-- FUNCTION: DISPLAY -->
<#-- This function returns a "visible" or "hidden" class for any component -->
<#-- breakpoints: "all" || "xs"/"sm"/"md"/"lg"/"xl" -->
<#-- display: is-block/is-flex/is-inline/is-inline-block/is-inline-flex -->
<#function displaySettings breakPoints=[] display=''>
<#local breakPointsOrdered = [] />
<#if breakPoints?seq_contains('all')>
	<#local breakPointsOrdered += ['all'] />
</#if>
<#if breakPoints?seq_contains('remove')>
	<#local breakPointsOrdered += ['remove'] />
</#if>
<#if breakPoints?seq_contains('xs')>
	<#local breakPointsOrdered += ['xs'] />
</#if>
<#if breakPoints?seq_contains('sm')>
	<#local breakPointsOrdered += ['sm'] />
</#if>
<#if breakPoints?seq_contains('md')>
	<#local breakPointsOrdered += ['md'] />
</#if>
<#if breakPoints?seq_contains('lg')>
	<#local breakPointsOrdered += ['lg'] />
</#if>
<#if breakPoints?seq_contains('xl')>
	<#local breakPointsOrdered += ['xl'] />
</#if>
<#local displayClass = '' />
<#if breakPointsOrdered?? && breakPointsOrdered?size &gt; 0>
<#list breakPointsOrdered as breakPoint>
	<#if breakPoint = 'all'>
		<#local displayClass = 'is-sr-only' />
	<#elseif breakPoint = 'xs'>
		<#local displayClass = displayClass + ' is-hidden-mobile' />
	<#elseif breakPoint = 'sm'>
		<#local displayClass = displayClass + ' is-hidden-tablet-only' />
	<#elseif breakPoint = 'md'>
		<#local displayClass = displayClass + ' is-hidden-desktop-only' />
	<#elseif breakPoint = 'lg'>
		<#local displayClass = displayClass + ' is-hidden-widescreen-only' />
	<#elseif breakPoint = 'xl'>
		<#local displayClass = displayClass + ' is-hidden-fullhd' />
	<#elseif breakPoint = 'remove'>
		<#local displayClass = displayClass + ' remove' />
	<#else>
		<#local displayClass = displayClass + ' undefined_breakpoint' />
	</#if>
</#list>
</#if>
<#return displayClass?trim>
</#function>
<#-- This function returns responsive classes or flex order classes -->
<#-- type: col|offset|order -->
<#function responsiveDisplay type='' breakpoints={}>
<#local responsiveDisplayClass = '' />
<#list breakpoints as breakpointkey,breakpointvalue>
<#if breakpointvalue!=0>
<#if type = 'col'>
	<#local responsiveDisplayClass += ' is-${breakpointvalue}' />
<#elseif type = 'offset'>
	<#local responsiveDisplayClass += ' is-${type}-${breakpointvalue}' />
</#if>
</#if>
</#list>
<#return responsiveDisplayClass?trim>
</#function>
<#function alignmentSettings align='' style=''>
<#local x = ''>
<#if align !=''>
<#if align = 'left'>
	<#local x = 'is-left is-justify-content-flex-start' />
<#elseif align = 'right'>
	<#local x = 'is-right is-justify-content-flex-end' />
<#elseif align = 'center'>
	<#local x = 'is-centered is-justify-content-flex-center' />
</#if>
</#if>
<#return x>
</#function>
<#-- NEW MACRO LUTECE-2221 -->
<#-- UI STRUCTURE ELEMENTS -->
<#-- MACRO adminHeader -->
<#macro adminHeader site_name=site_name>
<script src="js/admin/jquery/jquery-3.5.1.min.js"></script>
</head>
<body class="has-navbar-fixed-top">
<div class="wrapper">
<header class="main-header" role="banner">
	<nav class="navbar is-fixed-top" role="navigation">
		<div class="navbar-brand">
			<a href="jsp/site/Portal.jsp" title="#i18n{portal.users.admin_header.title.viewSite} ${site_name}" target="_blank" class="navbar-item">
				<img src="#dskey{portal.site.site_property.logo_url}" class="logo"  title="#i18n{portal.users.admin_header.title.viewSite} ${site_name}" alt="${site_name}"><b> <#if site_name?length &gt; 18> ${site_name?substring(0,16)}... <#else> ${site_name}</#if></b>
			</a>
			<a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false">
				<span aria-hidden="true"></span>
				<span aria-hidden="true"></span>
				<span aria-hidden="true"></span>
			</a>
		</div>
		<div class="navbar-menu"  id="navbar-collapse">
			<div class="navbar-start">
				<#list feature_group_list as feature_group>
					<#if feature_group.features?size &gt; 1>
						<div class="navbar-item has-dropdown is-hoverable">
							<a class="navbar-link" id="dLabel${feature_group.id}Header">
								${feature_group.label}
							</a>
							<div class="navbar-dropdown" role="menu" aria-labelledby="dLabel${feature_group.id}Header">
							<#list feature_group.features as feature>
								<#if !feature.externalFeature>
									<a class="navbar-item" href="${feature.url}?plugin_name=${feature.pluginName}">${feature.name}</a>
								<#else>
									<a class="navbar-item" href="${feature.url}"><#if feature.iconUrl?has_content><i class="${feature.iconUrl}"></i></#if> ${feature.name}</a>
								</#if>
							</#list>
							</div>
						</div>
					<#else>
						<#list feature_group.features as feature>
							<#if !feature.externalFeature>
								<a class="navbar-item" href="${feature.url}?plugin_name=${feature.pluginName}">${feature.name}</a>
							<#else>
								<a class="navbar-item" href="${feature.url}"><#if feature.iconUrl?has_content><i class="${feature.iconUrl}"></i></#if>${feature.name}</a>
							</#if>
						</#list>
					</#if>
				</#list>
			</div>
			<div class="navbar-end user">
				<div class="navbar-item">
					<a class="button is-primary" href="${admin_url}" title="#i18n{portal.users.admin_header.homePage}">
						<i class="fa fa-home"></i>
					</a>
				</div>
				<#if user.userLevel == 0>
				<#assign hasIcon=false />
					<#if listLoggersInfo?has_content> 
						<#list listLoggersInfo?filter( logInfo -> ( logInfo.level = 'DEBUG' || logInfo.level = 'TRACE' ) ) as logInfo>
							<#if logInfo?size gt 0>
								<#if hasIcon=false >
								<div class="navbar-item has-dropdown is-hoverable">
									<button class="button is-light mt-2" style="position:relative" >
										<i class="fa fa-bell"></i>
										<span class="badge is-danger">1</span>
									</button>
									<ul class="navbar-dropdown logger" role="menu" aria-label="Notifications" style="width: 20vw;padding: .5rem 1rem;">
										<li><span class="badge is-danger is-top-left">1</span><strong>#i18n{portal.util.log.warningLevel}</strong></li>
										<#assign hasIcon = true />	
										</#if>
										<li><strong>${logInfo.name!}  - ${logInfo.level!}</strong><span>${logInfo.path!}</span> </li>
									</#if>	
								</#list>
							</#if>
							<#if hasIcon == true >
							</ul>
						</div>
					</#if>
				<div class="navbar-item">
					<a class="button is-danger" href="jsp/admin/AdminTechnicalMenu.jsp" title="#i18n{portal.admindashboard.view_dashboards.title}">
						<i class="fa fa-cog"></i>
					</a>
				</div>
				</#if>
				<div class="navbar-item has-dropdown is-hoverable">
					<a class="navbar-link">
					<#if adminAvatar> 
						<img src="servlet/plugins/adminavatar/avatar?id_user=${user.userId}" id="admin-avatar" class="user-image" alt="User's avatar"> 
					<#else> 
						<img src="#dskey{portal.site.site_property.avatar_default}" id="admin-avatar" class="user-image" alt="User's avatar"> 
					</#if>     
						<span id="zone4" class="hidden-sm hidden-md" id="dLabelUserHeader"> ${dashboard_zone_4}<i class="caret"></i></span>
					</a>
					<#if userMenuItems?has_content>   
						<ul class="navbar-dropdown" role="menu" aria-labelledby="dLabelUserHeader">
						<#list userMenuItems as item>
							${item.content}
						</#list>
						</ul>
					</#if>
				</div>
				<#if admin_logout_url?has_content>
				<div class="navbar-item">
					<a class="button is-danger"  href="${admin_logout_url}" title="#i18n{portal.users.admin_header.deconnectionLink}">
						<i class="fa fa-power-off fa-fw"></i> 
					</a>
				</div>
				</#if>
			</div>
		</div>
	</nav>
	</header>
	<#if user.userLevel == 0>
	<script>
	document.addEventListener( 'DOMContentLoaded', () => {	
		const loggers = document.querySelectorAll('.logger') ;
		if( loggers.length > 0 ){
			if( !sessionStorage.getItem('lutece-debug-modal') ){
				sessionStorage.setItem('lutece-debug-modal', false )
			}
			var modalContent = '<p><strong>#i18n{portal.util.log.modalWarningMessage}</strong></p><blockquote>' + loggers[0].innerHTML + '</blockquote>';
			var adminModalBody = document.querySelector('#adminModal .modal-card-body')
			adminModalBody.insertAdjacentHTML( 'beforeEnd', modalContent);
			var adminModal = document.getElementById('adminModal');
			var adminModalLabel = document.getElementById('adminModalLabel');
			var adminModalHeader = document.querySelector('#adminModal .modal-card-head');
			var adminModalHeaderBtn = document.querySelector('#adminModal .modal-card-head button');
			adminModalLabel.insertAdjacentHTML( 'beforeEnd', 'Attention configuration non conforme !' );
			adminModalLabel.classList.add('has-text-white');
			adminModalHeader.classList.add('has-background-danger');
			( document.querySelectorAll('#adminModal .modal-background,#adminModal .modal-close,#adminModal .modal-card-head .delete,#adminModal .modal-card-foot .button') || []).forEach(($close) => {
				const $target = $close.closest('.modal');
				$close.addEventListener( 'click', () => {
				$target.classList.remove('is-active');
				sessionStorage.setItem('lutece-debug-modal',true)
				});
			});
			
			if( sessionStorage.getItem('lutece-debug-modal') === 'false' ){
				adminModal.classList.add('is-active');
			}
		}
	});
	</script>
	</#if>
	<!-- Wrapper -->
	<div id="admin-wrapper">
		<section class="content-wrapper">
		<!-- Close in footer -->
</#macro>
<#-- MACRO adminFooter -->
<#macro adminFooter >
		<!-- end content section -->
		</section>
	<!--  end admin-wrapper -->
	</div>
<!-- end wrapper -->
</div>
<!-- footer menu -->
<footer class="footer">
	<div class="content has-text-centered">
		<p>
			<a href="https://lutece.paris.fr" target="lutece" title="#i18n{portal.site.portal_footer.labelPortal}">
				<img src="images/poweredby.png" alt="#i18n{portal.site.portal_footer.labelMadeBy}">
				<small>version ${version}</small>
			</a>
		</p>
	</div>
</footer>
<!-- AdminModal -->
<div class="modal" id="adminModal">
	<div class="modal-background"></div>
	<div class="modal-card">
		<header class="modal-card-head">
			<p id="adminModalLabel" class="modal-card-title"></p>
			<button class="delete" aria-label="#i18n{portal.site.admin_page.buttonClosed}"></button>
		</header>
		<section class="modal-card-body"></section>
		<footer class="modal-card-foot">
			<button class="button" >#i18n{portal.site.admin_page.buttonClosed}</button>
		</footer>
	</div>
</div>
<!-- Included JS Files -->
<!-- Le javascript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<@coreAdminJSLinks />
${javascript_files}
<script>
$( function() {
	// Check for click events on the navbar burger icon
	$(".navbar-burger").click(function() {
		// Toggle the "is-active" class on both the "navbar-burger" and the "navbar-menu"
		$(".navbar-burger").toggleClass("is-active");
		$(".navbar-menu").toggleClass("is-active");
	});
});
</script>
</#macro>
<#-- MACRO adminHome -->
<#macro adminHome >
<@row>
	<@columns class='widget'>
		<section class="dashboard-widgets">
			<@row>
				<@columns sm=4 md=4 lg=4 class='widget lutece-dashboard'>
					<#if dashboard_zone_1?has_content>
						${dashboard_zone_1}
					</#if>
					<div>&nbsp;</div>
				</@columns>
				<@columns sm=4 md=4 lg=4 class='widget lutece-dashboard'>
					<#if dashboard_zone_2?has_content>
						${dashboard_zone_2}
					</#if>
					<div>&nbsp;</div>
				</@columns>
				<@columns sm=4 md=4 lg=4 class='widget lutece-dashboard'>
					<#if dashboard_zone_3?has_content>
						${dashboard_zone_3}
					</#if>
					<div>&nbsp;</div>
				</@columns>
			</@row>
		</section>
	</@columns>
</@row>
</#macro>
<#-- MACRO adminDashboardWidget -->
<#macro adminDashboardWidget id title color='primary' url='' class='' bodyClass='table-responsive no-padding' params='' >
<@box style='solid' color='${color}' id='${id}_dashboard_card'>
	<@boxHeader title='${title}'>
		<#if url!=''><@aButton color='' style='card-header-icon' href='${url!}' title='${title!}' size='sm' buttonIcon='cog' hideTitle=['all']  /></#if>
		<@button style='card-header-icon collapse' color='' buttonTargetId='#${id}_dashboard_card_body' buttonIcon='minus' size='sm' params=' data-toggle="collapse"' />
		<@button style='card-header-icon remove'  color=''  buttonTargetId='#${id}_dashboard_card' buttonIcon='times' size='sm' params=' data-dismiss="alert"' />
	</@boxHeader>
	<@boxBody class=bodyClass id='${id}_dashboard_card_body'>
	<#nested>
	</@boxBody>
</@box>
</#macro>
<#-- adminContentHeader  -->
<#macro adminContentHeader >
<section class="content-header">
<nav class="breadcrumb" aria-label="breadcrumbs">
	<ul>
		<li id="feature-title">
		<#if feature_url?? && feature_title?? >
    		<a href="${feature_url}" title="${feature_title!''}">${feature_title!''}</a>
        <#else>
            ${feature_title!''}
        </#if>
		</li>
		<#if page_title?? && page_title?has_content>
		<li class="is-active"><a href="#" aria-current="page">${page_title}</a></li>
		</#if>
	</ul>
	</nav>
 		
		

	<@adminHeaderDocumentationLink />
</section>
<section class="content-wrapper <#if feature_url?? && feature_url?ends_with('AdminSite.jsp')>no-padding</#if>">
</#macro>
<#-- adminLoginPage  -->
<#macro adminLoginPage title='' site_name='SITE_NAME' loginUrl='' token='' loginParams=''>
<script src="js/admin/jquery/jquery-3.5.1.min.js"></script>
</head>
<body id="login">
<section class="is-fullheight" id="login-page">
	<div class="block p-3">
		<figure class="image is-128x128 is-rounded">
			<img src="images/logo-header.png" title="LUTECE Back-Office" alt="LUTECE Back-Office">
		</figure>
	</div>
	<div class="container">
		<div class="columns is-centered  mt-6">
			<div class="column is-one-third  mt-6">
				<div class="box">
					<h3 class="title has-text-centered">${title}</h3>
					<p class="subtitle has-text-black has-text-centered">#i18n{portal.admin.admin_login.welcome} ${site_name}</p>
					<#nested>
				</div>
			</div>
		</div>
	</div>
</section>
<script>
$(function() {
	var randomImages = [#dskey{portal.site.site_property.back_images}];
	var rndNum = Math.floor(Math.random()*(randomImages.length));
	var bgImg = 'url(' + randomImages[rndNum] + ')';
	$("#login-page").css('background-image', bgImg );
});
</script>
</#macro>
<#-- adminHeaderDocumentationLink  -->
<#macro adminHeaderDocumentationLink >
<ol class="breadcrumb ${feature_group!?lower_case} is-pulled-right">
  <#if feature_documentation?has_content >
	<#if feature_documentation?exists>
	<div id="lutece-doc-link" class="has-background-light p-1">
			<a target="_blank" href="${feature_documentation}" title="#i18n{portal.features.documentation.help}">
				<i class="fa fa-life-ring" ></i> #i18n{portal.features.documentation.help}
			</a>
		</div>
	</#if>
</#if>
</ol>
</#macro>
<#macro adminSiteColumnOutline columnid=''>
<div class="admin_column_outline">
	<span class="admin_column_id">${i18n("portal.site.columnId",columnid)}</span>
	<div>
		<#nested>
	</div>
</div>
</#macro>
<#-- MACRO adminSiteToolbar  -->
<#macro adminSiteToolbar >
<@btnToolbar>
	<@btnGroup>
		<@tform type='inline' action='jsp/admin/site/AdminSite.jsp' role='search'>
			<@input type='number' size='xs' name='page_id' id='page_id' title='${i18n("portal.site.admin_page.buttonSearchPage")}' placeHolder='22' params=' style="width:4rem;"' />
			<@button type='submit' color='primary' title='${i18n("portal.site.admin_page.buttonSearchPage")}' hideTitle=['all'] buttonIcon='search' />
		</@tform>
	</@btnGroup>
	<@btnGroup class='ms-1 ml-1'>
		<@aButton href='' id='display-full' title='#i18n{portal.site.admin_page.buttonLargeScreen}' buttonIcon='desktop' color='primary'hideTitle=['all'] />
		<@aButton href='' id='display-940' title='#i18n{portal.site.admin_page.buttonTablet}' buttonIcon='tablet' color='primary' hideTitle=['all'] />
		<@aButton href='' id='display-480' title='#i18n{portal.site.admin_page.buttonSmartphone}' buttonIcon='mobile' color='primary' hideTitle=['all'] />
	</@btnGroup>
	<#if page.id != 1>
		<@btnGroup class='ms-1 ml-1'>
			<@aButton href='jsp/admin/site/AdminSite.jsp?page_id=${page.parentPageId}' color='success' buttonIcon='arrow-up' title='#i18n{portal.site.admin_page.buttonUpToParentPage}' hideTitle=['all'] />
			<@aButton href='jsp/admin/site/RemovePage.jsp?page_id=${page.id}' color='danger btn-icon' buttonIcon='trash text-white' title='#i18n{portal.site.admin_page.buttonDeletePage}' hideTitle=['all']  />
		</@btnGroup>
	</#if>
	<@btnGroup class='ms-1 ml-1'>
	<#if portlet_types_list?has_content>
		<@aButton class='dropdown-toggle' id='portlet-type' dropdownMenu=true href='#' title='#i18n{portal.site.admin_page.labelPortletPage}' buttonIcon='th-large' hideTitle=['xs','sm','md']>
			<#list portlet_types_list?sort_by("name") as portlet_type>
				<@dropdownItem class='portlet-type-ref' href='jsp/admin/DoCreatePortlet.jsp?portlet_type_id=${portlet_type.id}&amp;page_id=${page.id}' target='preview' title='${portlet_type.name}'>
					${portlet_type.name}
				</@dropdownItem>
			</#list>
		</@aButton>
	</#if>
	<#if extendableResourceActionsHtml?? && extendableResourceActionsHtml?has_content>
		${extendableResourceActionsHtml!}
	</#if>
	</@btnGroup>
	<@btnGroup class='ms-1 ml-1'>
		<@aButton href='jsp/admin/site/AdminSite.jsp?page_id=${page.id}&amp;param_block=2' buttonIcon='wrench' title='#i18n{portal.site.admin_page.labelPageProperty}' hideTitle=['xs','sm','md'] />
	</@btnGroup>
	<@btnGroup class='ms-1 ml-1'>
		<@aButton href='jsp/admin/site/AdminSite.jsp?page_id=${page.id}&amp;param_block=5'  buttonIcon='plus' title='#i18n{portal.site.admin_page.labelChildPagePage}' hideTitle=['xs','sm','md'] />
	</@btnGroup>
	<@btnGroup class='ms-1 ml-1'>
		<@aButton href='jsp/admin/site/AdminMap.jsp?page_id=${page.id }' buttonIcon='sitemap' title='Page ${page.name} - Id ${page.id}' hideTitle=['all'] ><@span hide=['all']>#i18n{portal.site.admin_page.tabAdminMapSite}</@span></@aButton>
	</@btnGroup>
	<@btnGroup class='ms-1 ml-1'>
		<@aButton href='' id='fullscreen' title='#i18n{portal.site.admin_page.buttonFullscreen}' buttonIcon='arrows-alt' color='secondary'  hideTitle=['all'] />
	</@btnGroup>
</@btnToolbar>
</#macro>
<#-- adminMessagePage  -->
<#macro adminMessagePage title=''>
<#assign color="info" />
<#assign icontype="fa-info-circle" />
<#if message.type == 2 >
   <#assign color="primary" />
   <#assign icontype="fa-question-circle" />
<#elseif message.type == 3 >
   <#assign color="danger" />
   <#assign icontype="fa-exclamation-circle" />
<#elseif message.type == 4 >
   <#assign color="danger" />
   <#assign icontype="fa-question-circle" />
<#elseif message.type == 5 >
   <#assign color="danger" />
   <#assign icontype="fa-ban" />
</#if>
<script src="js/admin/jquery/jquery-3.5.1.min.js"></script>
</head>
<body>
<section class="hero is-success is-fullheight"  id="login-page">
	<div class="hero-body">
		<div class="container has-text-centered">
			<div class="column is-4 is-offset-4">
				<div class="box">
					<h3 class="title text-black">${title!"Info"}</h3>
					<#if text!=''><p class="message-body has-background-grey-lighter">${text}</p></#if>
					<#nested>
				</div>
				<p class="has-text-grey"></p>
			</div>
		</div>
	</div>
</section>
</#macro>
<#-- HTML ELEMENTS -->
<#macro img url='' alt='' title='' class='' id='' params=''> 
<img src="${url}" alt="<#if alt!=''>${alt!}<#else>${title!}</#if>" title="${title}" class="thumbnails thumb-list<#if class!=''>  ${class}</#if>"<#if id!=''> id="${id}"</#if><#if params!=''> ${params}</#if> />
</#macro>
<#-- fieldSet  -->
<#macro fieldSet class='' fieldsetId='' fieldsetParams='' legend='' legendClass='' legendId='' legendIcon='' legendParams='' hideLegend=[] disabled=false>
<fieldset class="box<#if class!=''> ${class}</#if>"<#if fieldsetId!=''> id="${fieldsetId}"</#if><#if fieldsetParams!=''> ${fieldsetParams}</#if><#if disabled> disabled</#if>>
	<#if legend!=''>
		<#local legendClass += ' ' +  displaySettings(hideLegend,'block') />
		<legend class="label<#if legendClass!=''> ${legendClass?trim}</#if>" <#if legendId!=''> id="${legendId}"</#if><#if legendParams!=''> ${legendParams}</#if>><#if legendIcon!=''><@icon style=legendIcon /> </#if>${legend}</legend>
	</#if>
	<#nested>
</fieldset>
</#macro>
<#-- Email Default Template -->
<#macro emailTemplate title='Lutece' footer_link='https://lutece.paris.fr'> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width"/>
    <style type="text/css">
		* { margin: 0; padding: 0; font-size: 100%; font-family: 'Avenir Next', "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif; line-height: 1.65; }
		img { max-width: 100%; margin: 0 auto; display: block; }
		body, .body-wrap { width: 100% !important; height: 100%; background: #f8f8f8; }
		a { color: #007bff; text-decoration: none; }
		a:hover { text-decoration: underline; }
		.text-center { text-align: center; }
		.text-right { text-align: right; }
		.text-left { text-align: left; }
		.button { display: inline-block; color: white; background: #007bff; border: solid #007bff; border-width: 10px 20px 8px; font-weight: bold; border-radius: 4px; }
		.button:hover { text-decoration: none; }
		h1, h2, h3, h4, h5, h6 { margin-bottom: 20px; line-height: 1.25; }
		h1 { font-size: 32px; }
		h2 { font-size: 28px; }
		h3 { font-size: 24px; }
		h4 { font-size: 20px; }
		h5 { font-size: 16px; }
		p, ul, ol { font-size: 16px; font-weight: normal; margin-bottom: 20px; }
		.container { display: block !important; clear: both !important; margin: 0 auto !important; max-width: 580px !important; }
		.container table { width: 100% !important; border-collapse: collapse; }
		.container .masthead { padding: 80px 0; background: #007bff; color: white; }
		.container .masthead h1 { margin: 0 auto !important; max-width: 90%; text-transform: uppercase; }
		.container .content { background: white; padding: 30px 35px; }
		.container .content.footer { background: none; }
		.container .content.footer p { margin-bottom: 0; color: #888; text-align: center; font-size: 14px; }
		.container .content.footer a { color: #888; text-decoration: none; font-weight: bold; }
		.container .content.footer a:hover { text-decoration: underline; }
    </style>
</head>
<body>
<table class="body-wrap">
	<tr>
		<td class="container">
				<!-- Message start -->
				<table>
						<tr>
							<td align="center" class="masthead">
								<h1>${title}</h1>
							</td>
						</tr>
						<tr>
							<td class="content">
								<#nested>
							</td>
						</tr>
				</table>
		</td>
	</tr>
	<tr>
		<td class="container">
			<!-- Message start -->
			<table>
					<tr>
						<td class="content footer" align="center">
								<p><a href="${footer_link}">Lutece</a></p>
						</td>
					</tr>
			</table>
		</td>
	</tr>
</table>
</body>
</html>		
</#macro>
<#macro adminLanguage languages lang action='jsp/admin/DoChangeLanguage.jsp' >
<a class="navbar-link" href="javascript:return false;">
	<i class="fa fa-language"></i> <span>#i18n{portal.admin.admin_home.language}</span>
</a>
<@tform method='post' action=action>
<input type="hidden" name="token" value="${token}">
<#assign languageIcon=''>
<#list languages as language>
	<#if lang==language.code>
		<#assign languageIcon='check'>
	</#if>
	<@button buttonIcon='${languageIcon} has-text-success' class='${language.code} is-fullwidth' type='submit' name='language' value='${language.code}' title='${language.name}'/>
</#list>
</@tform>
</#macro>
<#macro adminAccessibilityMode>
<@tform method='post' action='jsp/admin/DoModifyAccessibilityMode.jsp' class=''>
	<input type="hidden" name="token" value="${token}">
	<#if user.accessibilityMode>
		<@button color='white' size='sm' type='submit' buttonIcon='eye' title='#i18n{portal.users.admin_header.labelDeactivateAccessibilityMode}'/>
	<#else>
		<@button color='white' size='sm' type='submit' buttonIcon='eye-slash' title='#i18n{portal.users.admin_header.labelActivateAccessibilityMode}'/>
	</#if>
</@tform>
</#macro>
<#macro empty title='' subtitle='' iconName='mood-empty' img='' actionTitle='' actionBtn='primary' actionIcon='plus' actionUrl='#'>
<div class="empty">
	<#if img=''>
		<div class="empty-icon">
			<@icon prefix='ti ti-' style='${iconName}'  params='style="font-size:48px"'  />
		</div>
	<#else>
		<div class="empty-img"><img src="${img}" height="128"  alt=""></div>
	</#if>
	<p class="empty-title"><#if title=''>#i18n{portal.util.message.emptyTitle}<#else>${title}</#if></p>
	<#if subtitle !=''>
	<p class="empty-subtitle text-muted">
		${subtitle}
	</p>
	<#else>
	<p class="empty-subtitle text-muted">
		#i18n{portal.util.message.emptySubTitle}
	</p>
	</#if>
	<#if actionTitle !=''>
	<div class="empty-action">
	  	<a href="${actionUrl}" class="btn btn-${actionBtn}">
		<#if actionIcon !=''><@icon prefix='ti ti-' style='${actionIcon}' /></#if> ${actionTitle}
	  	</a>
	</div>
	</#if>
</div>
</#macro>
<#macro timeline class='' id='' params=''>
<div class="timeline<#if class !=''> ${class}</#if>"<#if id !=''> id="${id}"</#if><#if params !=''> ${params}</#if>>
	<#nested>
</div>
</#macro>
<#macro timelineLabel bg='primary' label=''  class='' id='' params=''>
<!-- no label -->
</#macro>
<#macro timelineItem iconFace='check' iconBg='bg-primary' time='' label='' footer=''  class='' id='' params=''>
<div class="timeline-item<#if class !=''> ${class}</#if>" <#if id !=''> id="${id}"</#if><#if params !=''> ${params}</#if>>
	<#assign timelineIcon>${iconFace} ${iconBg}</#assign>
	<div class="timeline-marker<#if iconFace !=''> is-icon</#if>"><#if iconFace !=''><@icon style=timelineIcon /></#if></div>
	<div class="timeline-content">
		<#if label !=''><p class="heading">${label}</p></#if>
		<#nested>
	</div>
</div>
</#macro>
<#-- scroll to top button -->
<#macro scrollTopBtn>
<a href="#" id="scroll" style="display: none;"><span></span></a>
<script>
$( function(){ 
    $(window).scroll(function(){ 
        if ( $(this).scrollTop() > 100) { 
            $('#scroll').fadeIn(); 
        } else { 
            $('#scroll').fadeOut(); 
        } 
    }); 
    $('#scroll').click(function(){ 
        $("html, body").animate({ scrollTop: 0 }, 600); 
        return false; 
    }); 
});
</script>
</#macro>
<#-- copyElementToClipboard a set of elements designed by a selector - param "selector" -->
<#-- Params																				-->
<#-- selector : Any CSS selector expression												-->
<#-- class : Default '' : List of class with double quote with comma separator 			-->
<#-- 		Possible values : "no-hover" No icon on hover - .no-hover portal_admin.css	-->
<#-- 		Possible values : "copy-icon" Icon always shown - . see portal_admin.css   	-->
<#-- 		Possible values : "copy-btn" Icon and Button styles -						-->
<#-- 		Ex for multiple classes : "class1","class2" 								-->
<#-- showMsg : Default false : If true a message is show after copy						-->
<#-- msgDone : Default "Copied" : Success message 										-->
<#-- msgError : Default "Error : not copied" : Error message							-->
<#-- Usage																				-->
<#-- Basic : <@copyElementToClipboard selector='.copy-content'  />						-->
<#-- No message : <@copyElementToClipboard selector='.copy-content' showMsg=false />	-->
<#-- No Hover : <@copyElementToClipboard selector='.copy-content' class='"no-hover"' /> -->
<#-- With icon shown : <@copyElementToClipboard selector='.copy-content' class='"copy-icon"' />	 -->
<#macro copyElementToClipboard selector class='' showMsg=true msgDone='#i18n{portal.util.copy.done}' msgError='#i18n{portal.util.copy.error}'>
<script>
const elems = document.querySelectorAll('${selector!}');
elems.forEach(elem => {
	<#if class !=''>elem.classList.add( ${class!} );</#if>
	elem.setAttribute('title', '#i18n{portal.util.labelCopy}');
  	elem.addEventListener('click', () => {
		const selection = window.getSelection();
		const range = document.createRange();
		range.selectNodeContents(elem);
		selection.removeAllRanges();
		selection.addRange(range);
		try {
			document.execCommand('copy');
			selection.removeAllRanges();
		<#if showMsg>
			const original = elem.textContent;
			elem.textContent = '${msgDone}';
			elem.classList.add('msg-success');
			setTimeout(() => {
				elem.textContent = original;
				elem.classList.remove('msg-success');
			}, 1200);
		</#if>
		} catch(e) {
		<#if showMsg>
			const original = elem.textContent;
			elem.textContent = '${msgError}';
			elem.classList.add('msg-error');
			setTimeout(() => {
				elem.textContent = original;
				elem.classList.remove('msg-danger');
			}, 1200);
		</#if>
    	}
  	});
});
</script>
</#macro>
<#-- initToast  				-->
<#-- Params						-->
<#-- layout='popups' 			-->
<#-- position='top-right' 		-->
<#-- closer=false 				-->
<#-- sticky=false 				-->
<#-- progressbar=true 			-->
<#-- theme='default'			-->
<#-- duration=3000 				-->
<#-- pool=5						-->
<#macro initToast layout='popups' position='top-right' closer=true sticky=false progressbar=true insert='before' theme='default' duration=3000 pool=5 >
<script>
$( function(){
	var lutecepolipop = new Polipop('lutecepop', {
		layout: '${layout}',
		position: '${position}',
		theme: '${theme}',
		life: ${duration?c},
		insert: '${insert}',
		closer: ${closer?c},
		closeText : '#i18n{portal.util.labelClose}',
		sticky: ${sticky?c},
		progressbar: ${progressbar?c},
		pool: ${pool},
	});
	<#-- Add addToast macro in your template -->
	<#nested>
});
</script>
</#macro>
<#-- addToast  															-->
<#-- Params																-->
<#-- title : Default "Error : not copied" : Error message				-->
<#-- msg : Default "Copied" : Success message 						  	-->
<#-- type : Default "default" ['info', 'danger', 'success' 'warning'] 	-->
<#macro addToast title content type='default' >
lutecepolipop.add({
    content: '${content}',
    title: '${title}',
    type: '${type}',
});
</#macro>
<#-- selectIconFont  																-->
<#-- Params																			-->
<#-- id : Default "selectIcon" : Id for select										-->
<#-- class : Default '' : List of class for select 									-->
<#-- name : Default "resource-icon" : Name for submit   		  	    			-->
<#-- showListLabel : Default true : Show icons' label  								-->
<#-- showListIcon : Default true : Show icons' icon  								-->
<#-- searchShow : Default true : Show search field in select						-->
<#-- searchFocus : Default false : It true set focus in search fiedl				-->
<#-- searchHighlight : Default true : Highlight searched chars in list				-->
<#-- type : Default 'yaml' : Possible values : ['yaml','json']						-->
<#-- prefix : Default 'fa' : ['fa','bi-', [ti ti-],...]	Prefix for icon family		-->
<#-- iconsUrl : Default 'css/admin/font-awesome-icons.yml' : File url to retrieve icon name list -->
<#-- resources : Default true : If true load slimselect js lib and css. 			-->
<#-- Only needed once, so set to false if you user this macro more than once		-->
<#-- FontAwesome icons yaml dowloaded from https://raw.githubusercontent.com/FortAwesome/Font-Awesome/master/metadata/icons.yml  -->
<#macro selectIconFont id='selectIcon' class='' name='resource-icon' showListLabel=true showListIcon=true searchShow=true searchFocus=false searchHighlight=true type='yaml' prefix='fa-' iconsUrl='css/admin/font-awesome-icons.yml' resources=true defaultValue=''>
<@select name='${name}' id='${id}' />
<#if resources>
<link rel="stylesheet" href="js/admin/lib/slimselect/slimselect.min.css">
<script src="js/admin/lib/slimselect/slimselect.min.js"></script>
<#if type='yaml'>
<!-- js yaml parser -->
<script src="js/admin/lib/slimselect/js-yaml.min.js"></script>
</#if>
</#if>
<script>
$.get('${iconsUrl}', function(data) {
<#if type='yaml'>
	let parsedIcons = jsyaml.load(data)
<#else>
	<#-- Json / Object -->
	let parsedIcons='';
	if( typeof data === 'object' ){
		parsedIcons = data;
	} else { 
		parsedIcons = JSON.parse( data )
	}
</#if>
$.each( parsedIcons, function(index, icon){
	let i=0, prefix='${prefix}';
	let selected = '${defaultValue}' == index ? 'selected' : '';
	<#if type='yaml'>
		<#-- FontAwesome specific / Other lib add another test/treatment -->
		while( i < icon.styles.length ){
			switch ( icon.styles[i] ) {
				case 'regular':
					prefix = 'far'
					break;
				case 'solid':
					prefix = 'fas'
					break;
				case 'light':
					prefix = 'fal'
					break;
				case 'brands':
					prefix = 'fab'
					break;
			}
			$('#${id}').append('<option value="' + index + '"' + selected + '> <#if showListIcon><span class="' + prefix + ' fa-'+ index + ' mr-1" ' + selected + ' ></span>&nbsp;</#if>' <#if showListLabel>+ icon.label + ' [' + icon.styles[i] +  ']'</#if>+ '</option>');
			i++;
		}
	<#else>
		<#-- Json / Object -->
		$('#${id}').append('<option value="' + index + '" ' + selected + ' > <#if showListIcon><span class="' + prefix + ' fa-'+ index + '"></span>&nbsp;</#if>' <#if showListLabel>+ index </#if>+ '</option>');
	</#if>
});
new SlimSelect({ 
	select: '#${id}',
	showSearch: ${searchShow?c},
	searchText: "#i18n{portal.util.labelNoItem}",
	searchPlaceholder: '#i18n{portal.util.labelSearch}',
	searchFocus: ${searchFocus?c}, // Whether or not to focus on the search input field
	searchHighlight: ${searchHighlight?c}
})
});
</script>
</#macro>
<#-- Display wrong or deprecated macro arguments -->
<#macro deprecatedWarning args=[] >
 <#if args?size != 0 ><!-- Warning : wrong or deprecated argument(s) : <#list  args?keys as key >${key}, </#list> ... --></#if>
</#macro>
<#macro adminDashboardPanel title='' parentId='' childId='' icon='' color=''>
<#assign parentId = parentId />
<@accordionPanel color=color collapsed=true childId=childId>
<@accordionHeader id=id title=title headerIcon=icon></@accordionHeader>
<@accordionBody>
<#nested>
</@accordionBody>    
</@accordionPanel>
</#macro>
<#-- JStree Macro -->
<#macro jsTreeInit id='tree' btntreeSearch='treesearch' multiple=false plugins=[] style='proton/style.min.css'>
<link rel="stylesheet" href="js/admin/lib/jstree/themes/proton/style.min.css" >
<script src="js/admin/lib/jstree/jstree.min.js"></script>
<script>
$(function(){
	let selectedTree=jsTreeId=localStorage.getItem('jsTreeSelectedId' );

	$('#tree').jstree({
		'core': {
			'multiple' : false,
            'themes': {
                'name': 'proton',
                'responsive': true
            }
        },
	 	'plugins' : [  'search' , 'wholerow' ,'changed'  ]
	}).on('click', function( e ){
		window.location.replace( e.target.getAttributeNode('href').value );
	}).on("changed.jstree", function (e, data) {
		localStorage.setItem( 'jsTreeSelectedId', data.changed.selected );
    });

	$('#tree').jstree( 'select_node', jsTreeId );
   
	var to = false;
	$('#treesearch').keyup(function () {
		if(to) { clearTimeout(to); }
		to = setTimeout(function () {
		var v = $('#treesearch').val();
		$('#tree').jstree(true).search(v);
		}, 250);
	});

});
</script>
</#macro>
<#macro jsTreeSearch >
<@formGroup formStyle='inline' labelKey='#i18n{portal.site.admin_page.buttonSearchPage}' hideLabel=['all']>
	<@inputGroup size='sm'>
		<@input type='text' id='tree_search' name='tree_search' placeHolder='#i18n{portal.site.admin_page.buttonSearchPage}' />
		<@inputGroupItem>
			<@button id='btn-tree_search' color='link' type='button' title='#i18n{portal.site.admin_page.buttonSearchPage}' buttonIcon='search' hideTitle=['all'] />
		</@inputGroupItem>
	</@inputGroup>
</@formGroup>
</#macro>
<#-- Display wrong or deprecated macro arguments -->
<#macro deprecatedWarning args=[] >
<#if args?size != 0 ><!-- Warning : wrong or deprecated argument(s) : <#list  args?keys as key >${key}, </#list> ... --></#if>
</#macro>
<#macro codeHighLight >
<link rel="stylesheet" href="js/admin/lib/prism/prism.css">
<link rel="stylesheet" href="js/admin/lib/prism/prism-live.css">
<script src="js/admin/lib/prism/prism.js"></script>
<script src="js/admin/lib/prism/prism-live.js"></script>
</#macro>