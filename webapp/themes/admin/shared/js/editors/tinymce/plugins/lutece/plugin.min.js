tinymce.PluginManager.requireLangPack('lutece', 'fr_FR');
tinymce.PluginManager.add('lutece', function(editor, url) {
editor.addButton("lutece",{
	icon:true,
	image: url +'/img/lutece.png',
	tooltip: "Insert Lutece Link",
	onclick:function(){
		console.log( "tinyMCE.base_url : " + url );
		editor.windowManager.open(
		    {title:"Lutece",url: url + "../../../../../../jsp/admin/insert/GetAvailableInsertServices.jsp?input=" + editor.name + "&selected_text=" + editor.selection.getContent({format : 'text'}) ,width:800,height:500,buttons:[{text:"Close",onclick:"close"}]}
		)}
	}),

	editor.addMenuItem("lutece",{
		image: url +'/img/lutece.png',
		text:"Insert Lutece Link",
		context:"insert",
		prependToContext:!0,
		onclick:function(){
			editor.windowManager.open(
				{title:"Lutece",url: url + "../../../../../../jsp/admin/insert/GetAvailableInsertServices.jsp?input=&selected_text=",width:800,height:600,buttons:[{text:"Close",onclick:"close"}]}
			)}
		})
	}
);
