const themeRoot=document.querySelector("html");function switchThemeMode(e){const t=document.querySelectorAll(".hide-theme-dark,.hide-theme-light");themeRoot.dataset.bsTheme=e,t.forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),e.currentTarget.classList.contains("hide-theme-dark")?themeRoot.dataset.bsTheme="dark":themeRoot.dataset.bsTheme="light",localStorage.setItem("lutece-tabler-theme",themeRoot.dataset.bsTheme)})),e.addEventListener("keydown",(e=>{switch(e.key){case"Enter":e.preventDefault(),currentTheme=localStorage.getItem("lutece-tabler-theme"),switchThemeMode(currentTheme);break}}))}))}function themeMode(){let e=localStorage.getItem("lutece-tabler-theme");null===e&&(e="light",localStorage.setItem("lutece-tabler-theme",e)),switchThemeMode(e)}function getUserInitials(e){if(!e||"string"!=typeof e)return"";const t=e.trim().split(/\s+/);return 0===t.length?"":1===t.length?t[0].substring(0,2).toUpperCase():2===t.length?(t[0].charAt(0)+t[1].charAt(0)).toUpperCase():(t[0].charAt(0)+t[t.length-1].charAt(0)).toUpperCase()}function themeMenu(){const e=document.getElementById("main-menu");if(null!=e){const t=document.getElementById("main-nav").querySelector(".user-initials"),o=null!=t?t.dataset.username:"";if(e.querySelectorAll(".dropdown-item, .nav-item .nav-link").forEach((e=>{const t=sessionStorage.getItem("lutece-admin-active-menu");if(null!==t&&""!==t){const o=e.closest(".nav-item");e.id===t&&(o.classList.add("active"),e.classList.add("active"))}e.addEventListener("click",(t=>{sessionStorage.setItem("lutece-admin-active-menu",e.id)}))})),o&&t){const e=getUserInitials(o);t.textContent=e}themeRoot.classList.remove("loading"),themeRoot.classList.add("loaded")}}function readMode(){let e=themeRoot.getAttribute("dir");if(null!=e){const t=localStorage.getItem("lutece-bo-readmode");null!=t?themeRoot.setAttribute("dir",t):null!=e?themeRoot.setAttribute("dir",e):themeRoot.removeAttribute("dir")}}function prettySize(e,t=" ",o=""){if(e){const a=["Octets","Ko","Mo","Go","To"],r=Math.min(parseInt(Math.floor(Math.log(e)/Math.log(1024)).toString(),10),a.length-1);return`${(e/1024**r).toFixed(r?1:0)}${t}${a[r]}${o}`}return"n/a"}function progress(e,t,o){e.toggleClass("progress-bar-success",o),e.toggleClass("progress-bar-danger",!o),e.css({width:t+"%"}),e.html(Math.round(t)+"%")}document.addEventListener("DOMContentLoaded",(function(){themeMenu(),themeMode(),readMode();[].slice.call(document.querySelectorAll('[data-bs-toggle="popover"]')).map((function(e){return new bootstrap.Popover(e,{container:"body",sanitize:!1,placement:"left"})}));[...document.querySelectorAll('[data-bs-toggle="tooltip"]')].map((e=>new bootstrap.Tooltip(e)));document.querySelectorAll(".toggleCheck").forEach((e=>{e.addEventListener("click",(e=>{const t="check"===e.getAttribute("data-check");document.querySelectorAll('input[type="checkbox"]').forEach((e=>{e.checked=t}))}))})),document.querySelectorAll('[data-toggle="modal"]').forEach((e=>{e.setAttribute("data-bs-toggle","modal"),e.setAttribute("data-bs-target",e.getAttribute("data-target"))})),document.querySelectorAll('[data-toggle="dropdown"]').forEach((e=>{e.setAttribute("data-bs-toggle","dropdown"),e.setAttribute("data-bs-target",e.getAttribute("data-target"))})),document.querySelectorAll('[data-toggle="collapse"]').forEach((e=>{e.setAttribute("data-bs-toggle","collapse"),e.setAttribute("data-bs-target",e.getAttribute("data-target"))}))}));